import{k as tt,J as it,p as Et,K as Ye,i as ze,L as Ge,M as Ct,N as Ft,O as Re,P as Lt,m as At,y as Mt,F as nt}from"./index.e94cd8ca.js";import{d as q,r as A,o as he,c as d,O as $t,f as u,j as w,F as X,a as o,e as L,g as j,b as V,t as F,p as je,u as xt,x as ce,$ as Tt,i as H,A as Fe,w as N,K as T,E as Z,n as $,s as Pt,T as De,D as Qe,v as ye,a0 as oe,m as Q,a1 as z,a2 as W,G as Dt,I as at,y as It,h as Ie,q as Bt,S as rt,a3 as qt}from"./entry.0dc1f255.js";import{u as Ue}from"./composables.2719be85.js";const Rt=q({name:"ClientOnly",inheritAttrs:!1,props:["fallback","placeholder","placeholderTag","fallbackTag"],setup(e,{slots:i,attrs:n}){const t=A(!1);return he(()=>{t.value=!0}),a=>{var m;if(t.value)return(m=i.default)==null?void 0:m.call(i);const l=i.fallback||i.placeholder;if(l)return l();const r=a.fallback||a.placeholder||"",c=a.fallbackTag||a.placeholderTag||"span";return d(c,n,r)}}}),Er=(e,i)=>{try{window.fbq&&(window.fbq("init",e),jt("track",i||"PageView"))}catch(n){console.error(n)}},jt=(e,i,n)=>{if(i!=="None")try{window.fbq&&(n?window.fbq(e,i||"SubmitApplication",{},{eventID:n}):window.fbq(e,i||"SubmitApplication"))}catch(t){console.error(t)}},Cr=e=>{var i;(i=window.userSessionAttribution)==null||i.update(e)},Fr=(e,i)=>{var n;return((n=window.userSessionAttribution)==null?void 0:n.pageVisitData(e,i))||{}},Lr=async(e,i,n,t,a,l,r)=>{var c;try{await((c=window.userSessionAttribution)==null?void 0:c.create(e,i,n,t,a,l,r))}catch(m){console.log(m)}},Ar=e=>{var i;try{return(i=window.userSessionAttribution)==null?void 0:i.getSessionId(e)}catch(n){console.log(n)}},Mr=e=>{var i;try{return(i=window.userSessionAttribution)==null?void 0:i.getUserFingerprint(e)}catch(n){console.log(n)}},$r=(e,i)=>{var n;try{return(n=window.userSessionAttribution)==null?void 0:n.setUserFingerprint(e,i)}catch(t){console.log(t)}},xr=()=>{try{return window.self!==window.top}catch{return!1}},Tr=()=>tt(),Ut=["innerHTML"],Ht=["id"],Nt=q({__name:"HtmlPreview",props:{code:{type:String,default:""},id:{type:String,required:!0}},setup(e){var l;const i=e,n=new RegExp(/<s*(noscript)[^>]*>(.*?)<s*\/s*(noscript)>/g),t=A((l=i.code.replaceAll(`
`," /**/ ").match(n))==null?void 0:l.join("").replaceAll(" /**/ ",`
`)),a=A(i.code.replaceAll(`
`," /**/ ").replace(n,"").replaceAll(" /**/ ",`
`));return he(async()=>{if(a){const{default:r}=await $t(()=>import("./postscribe.392d3ee1.js").then(c=>c.p),["./postscribe.392d3ee1.js","./index.e94cd8ca.js","./entry.0dc1f255.js","./entry.2b81a264.css","./index.d6d6dd39.js","./index.74fe43f3.css"],import.meta.url);r(`#${i.id}-hl-custom-code`,a.value)}}),(r,c)=>(o(),d(X,null,[u(t)?(o(),d("div",{key:0,innerHTML:u(t)},null,8,Ut)):w("",!0),u(a)?(o(),d("div",{key:1,id:e.id+"-hl-custom-code"},null,8,Ht)):w("",!0)],64))}}),Se={US:"United States",CA:"Canada",DE:"Germany",AU:"Australia",GB:"UK",KE:"Kenya",IE:"Ireland",PH:"Philippines",IT:"Italy",HK:"Hong Kong",AF:"Afghanistan",AX:"land Islands",AL:"Albania",DZ:"Algeria",AS:"American Samoa",AD:"AndorrA",AO:"Angola",AI:"Anguilla",AQ:"Antarctica",AG:"Antigua and Barbuda",AR:"Argentina",AM:"Armenia",AW:"Aruba",AT:"Austria",AZ:"Azerbaijan",BS:"Bahamas",BH:"Bahrain",BD:"Bangladesh",BB:"Barbados",BY:"Belarus",BE:"Belgium",BZ:"Belize",BJ:"Benin",BM:"Bermuda",BT:"Bhutan",BO:"Bolivia",BA:"Bosnia and Herzegovina",BW:"Botswana",BV:"Bouvet Island",BR:"Brazil",IO:"British Indian Ocean Territory",BN:"Brunei Darussalam",BG:"Bulgaria",BF:"Burkina Faso",BI:"Burundi",KH:"Cambodia",CM:"Cameroon",CV:"Cape Verde",KY:"Cayman Islands",CF:"Central African Republic",TD:"Chad",CL:"Chile",CN:"China",CX:"Christmas Island",CC:"Cocos (Keeling) Islands",CO:"Colombia",KM:"Comoros",CG:"Congo",CD:"Congo, The Democratic Republic of the",CK:"Cook Islands",CR:"Costa Rica",CI:'Cote D"Ivoire',HR:"Croatia",CU:"Cuba",CY:"Cyprus",CZ:"Czech Republic",DK:"Denmark",DJ:"Djibouti",DM:"Dominica",DO:"Dominican Republic",EC:"Ecuador",EG:"Egypt",SV:"El Salvador",GQ:"Equatorial Guinea",ER:"Eritrea",EE:"Estonia",ET:"Ethiopia",FK:"Falkland Islands (Malvinas)",FO:"Faroe Islands",FJ:"Fiji",FI:"Finland",FR:"France",GF:"French Guiana",PF:"French Polynesia",TF:"French Southern Territories",GA:"Gabon",GM:"Gambia",GE:"Georgia",GH:"Ghana",GI:"Gibraltar",GR:"Greece",GL:"Greenland",GD:"Grenada",GP:"Guadeloupe",GU:"Guam",GT:"Guatemala",GG:"Guernsey",GN:"Guinea",GW:"Guinea-Bissau",GY:"Guyana",HT:"Haiti",HM:"Heard Island and Mcdonald Islands",VA:"Holy See (Vatican City State)",HN:"Honduras",HU:"Hungary",IS:"Iceland",IN:"India",ID:"Indonesia",IR:"Iran, Islamic Republic Of",IQ:"Iraq",IM:"Isle of Man",IL:"Israel",JM:"Jamaica",JP:"Japan",JE:"Jersey",JO:"Jordan",KZ:"Kazakhstan",KI:"Kiribati",KP:'Korea, Democratic People"S Republic',KR:"Korea, Republic of",KW:"Kuwait",KG:"Kyrgyzstan",LA:'Lao People"S Democratic Republic',LV:"Latvia",LB:"Lebanon",LS:"Lesotho",LR:"Liberia",LY:"Libyan Arab Jamahiriya",LI:"Liechtenstein",LT:"Lithuania",LU:"Luxembourg",MO:"Macao",MK:"Macedonia, The Former Yugoslav Republic of",MG:"Madagascar",MW:"Malawi",MY:"Malaysia",MV:"Maldives",ML:"Mali",MT:"Malta",MH:"Marshall Islands",MQ:"Martinique",MR:"Mauritania",MU:"Mauritius",YT:"Mayotte",MX:"Mexico",FM:"Micronesia, Federated States of",MD:"Moldova, Republic of",MC:"Monaco",MN:"Mongolia",ME:"Montenegro",MS:"Montserrat",MA:"Morocco",MZ:"Mozambique",MM:"Myanmar",NA:"Namibia",NR:"Nauru",NP:"Nepal",NL:"Netherlands",AN:"Netherlands Antilles",NC:"New Caledonia",NZ:"New Zealand",NI:"Nicaragua",NE:"Niger",NG:"Nigeria",NU:"Niue",NF:"Norfolk Island",MP:"Northern Mariana Islands",NO:"Norway",OM:"Oman",PK:"Pakistan",PW:"Palau",PS:"Palestinian Territory, Occupied",PA:"Panama",PG:"Papua New Guinea",PY:"Paraguay",PE:"Peru",PN:"Pitcairn",PL:"Poland",PT:"Portugal",PR:"Puerto Rico",QA:"Qatar",RE:"Reunion",RO:"Romania",RU:"Russian Federation",RW:"RWANDA",SH:"Saint Helena",KN:"Saint Kitts and Nevis",LC:"Saint Lucia",PM:"Saint Pierre and Miquelon",VC:"Saint Vincent and the Grenadines",WS:"Samoa",SM:"San Marino",ST:"Sao Tome and Principe",SA:"Saudi Arabia",SN:"Senegal",RS:"Serbia",SC:"Seychelles",SL:"Sierra Leone",SG:"Singapore",SK:"Slovakia",SI:"Slovenia",SB:"Solomon Islands",SO:"Somalia",ZA:"South Africa",GS:"South Georgia and the South Sandwich Islands",ES:"Spain",LK:"Sri Lanka",SD:"Sudan",SR:"Suriname",SJ:"Svalbard and Jan Mayen",SZ:"Swaziland",SE:"Sweden",CH:"Switzerland",SY:"Syrian Arab Republic",TW:"Taiwan",TJ:"Tajikistan",TZ:"Tanzania, United Republic of",TH:"Thailand",TL:"Timor-Leste",TG:"Togo",TK:"Tokelau",TO:"Tonga",TT:"Trinidad and Tobago",TN:"Tunisia",TR:"Turkey",TM:"Turkmenistan",TC:"Turks and Caicos Islands",TV:"Tuvalu",UG:"Uganda",UA:"Ukraine",AE:"United Arab Emirates",UM:"United States Minor Outlying Islands",UY:"Uruguay",UZ:"Uzbekistan",VU:"Vanuatu",VE:"Venezuela",VN:"Viet Nam",VG:"Virgin Islands, British",VI:"Virgin Islands, U.S.",WF:"Wallis and Futuna",EH:"Western Sahara",YE:"Yemen",ZM:"Zambia",ZW:"Zimbabwe"},Pr=async(e,i,n,t,a,l)=>{const r=A(n),c=A(t),m=A(a),f=A(l);let s=e||i.query;const h=it.map(p=>{var S;if(p in s)if(p==="phone"&&s[p]){let E=s[p];s[p][0]===" "&&(E=E.split(""),E[0]="+",E=E.join("")),r.value.phone=E}else p==="country"&&s[p]&&Se.hasOwnProperty(s[p])?c.value=Se[s[p]]:m.value[p]=(S=s[p])==null?void 0:S.replaceAll("+"," ")});await Promise.all(h);let v=[];const b=await Promise.all(f.value.map(p=>{p.hiddenFieldQueryKey&&v.push(p)}));await Promise.all(b);const C=v.map(p=>{var S,E,M;if(p.hiddenFieldQueryKey in s)if(p.type==="phone"&&s[p.hiddenFieldQueryKey]){let D=s[p.hiddenFieldQueryKey];s[p.hiddenFieldQueryKey][0]===" "&&(D=D.split(""),D[0]="+",D=D.join("")),r.value[p.tag]=D}else if(p.type==="checkbox")if(s[p.hiddenFieldQueryKey].includes(",")){let D=s[p.hiddenFieldQueryKey].split(",");m.value[p.tag]=D.map(ie=>ie==null?void 0:ie.trim())}else m.value[p.tag]=[s[p.hiddenFieldQueryKey]];else p.type==="email"?m.value[p.tag]=(S=s[p.hiddenFieldQueryKey])==null?void 0:S.replaceAll(" ","+"):m.value[p.tag]=(E=s[p.hiddenFieldQueryKey])==null?void 0:E.replaceAll("+"," ");else if(p.type==="phone"&&p.hiddenFieldValue){let D=p.hiddenFieldValue;p.hiddenFieldValue[0]===" "&&(D=D.split(""),D[0]="+",D=D.join("")),r.value[p.tag]=D}else p.hiddenFieldValue&&(m.value[p.tag]=(M=p.hiddenFieldValue)==null?void 0:M.replaceAll("+"," "))});return await Promise.all(C),console.log("formFieldsValue after fillDataForStandardFieldUri",m.value),{phoneCountryIncluded:r.value,formattedCountry:c.value,formFieldsValue:m.value,formFields:f.value}},Dr=async(e,i,n,t,a,l)=>{const r=A(t),c=A(a),m=A(l),f=e||Et(i);if(!f)return;const s=it.map(h=>{if(n.includes(h))if(h==="phone"){let v=f[h];v&&v[0]===" "&&(v=v.split(""),v[0]="+",v=v.join("")),c.value.phone=v}else h==="country"&&f[h]?m.value=Se[f[h]]:h==="address"&&!f[h]&&f.address1?r.value[h]=f.address1:r.value[h]=f[h]});return await Promise.all(s),{formFieldsValue:r.value,formattedCountry:m.value,phoneCountryIncluded:c.value}},Ir=(e,i)=>{const n=A(e),t=A(i);return t.value&&(n.value.country=Object.keys(Se).find(a=>Se[a]===t.value)),{formFieldsValue:n.value}},Br=async(e,i,n)=>{const t=e.query,a=A(n),l=i.map(r=>{r.hidden&&r.type!="source"&&(!r.hiddenFieldQueryKey||!(r.hiddenFieldQueryKey in t))&&(a.value[r.tag]=a.value[r.tag]||r.hiddenFieldValue)});return await Promise.all(l),{formFieldsValue:a.value}},qr=e=>{let i=0;return Object.keys(e).forEach(n=>{if(e[n]instanceof File)i+=e[n].size;else if(e[n]&&e[n].hasOwnProperty("files")){let t=e[n].files.length;for(let a=0;a<t;a++)i+=e[n].files[a].size}}),i},Rr=e=>{var t;const i=A([]);return(((t=e==null?void 0:e.form)==null?void 0:t.fields)||[]).map(a=>{const l=(a==null?void 0:a.font)||"";Object.keys(Ye).includes(l)&&i.value.push({href:Ye[l],rel:"stylesheet"})}),i.value},Kt={class:"form-builder--item"},jr=q({__name:"HtmlInput",props:["item","localTagId"],setup(e){const i=e,n=L(()=>{var t;return"customHTML_"+((t=i.item)==null?void 0:t.tag)+"_"+i.localTagId});return(t,a)=>(o(),d("div",Kt,[j(Nt,{id:u(n),code:e.item.html},null,8,["id","code"])]))}}),Wt={id:"_branding-wrap",class:"branding-wrap"},Yt=["href"],zt=["src"],Gt={class:"cmp-name"},Qt={key:1,href:"https://gohighlevel.com",class:"branding-url",target:"_blank"},Xt=V("svg",{"data-v-1e92268e":"",xmlns:"http://www.w3.org/2000/svg",width:"150",height:"26"},[V("image",{"data-v-1e92268e":"",width:"28",height:"26","xlink:href":"data:img/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPoAAADeCAMAAAAjD+0vAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAACKFBMVEUAAAD/vAD/vAD/vAA3yjc3yjc3yjf/vAD/vAA3yjc3yjf/vAD/vAD/vAA3yjc3yjf/vAD/vAD+uwH5twT/vAD/vAA3yjc3yjc3yjc2yDY1xjU3yjf/vADjqAs3yjc0uDQYi/YYi/b6uAI2xjb/vAA3yjcYi/YYi/YYi/YYi/bUsy0xvlrzug0Yi/YXgOgWddo1x0EYi/YWddkXd9z/vAA3yjfzrg/xrBEquycpuiX8uQPupxbqoxszxTIktB8isRz9ugLvqRQ0xzMltSH+uwHwqxI1yDUmtiL/vAHyrRA2yTUouCT0sA02yjYpuib2sgvqpBorvCj4tAnrpBouvyv5tgfrpRkvwS0jsh77twXsphgxwzAjsx7tpxczxTHvqRU0xjMltCDwqhM1yDT/uwDxrRE2yDUouCP0rw42yTYpuSX2sQz3tAotvir5tQcvwC0jsh3spRkxwy8yxDEjtB/uqBU0xjIltSD+ugI1xzQmtiEntyMouSX1sQz3swotvin5tQjrpBkuwCz6tgYwwi/7uAXtphcyxDD9uQPuqBYYi/YzxjLxrBImtyIVc9wVctsXg+4Xhe8VdN0Xh/EVdd4XiPMVduAXifQVeOEYivUWeuMYivYWfOUWfugXgOsXguwXhO8YhvEYiPIYifMWeOEVeeMWe+UWfecWf+oXhO4VdNwXhvAYh/IVdd8Wd+EYifQWeOIWeuQYi/UWf+kXgewXhfAVdN7///8CcMFSAAAANHRSTlMAHM03N80c3PHx3C/rLS3rfKC/zYsGBougy8B8UH5wWTfxclJwUDXrLe+JiXYQ5+124Ozq9vT/awAAAAFiS0dEt90AO2cAAAAHdElNRQfiAhgXEywya6S9AAAFmUlEQVR42u3a53cWRRTAYVDsil1RURMbsQvOAKJikAh2URQBY6FqrNjBrmAbNSJENMaOimKvf58vSQhv2d1p9969w9zf971znrN75twPO2lSQJMPODDkMaymHHQw1VGTD1GHMrJPOUwfTmRvyBUje0Ouieyjcj72UTmNfVzOxT4up7BPyHnYJ+T49iY5B3uTHNveIq/f3iLHtbfJ67a3yTHtHfJ67R1yPHuBvE57gRzLXiivz14ox7GXyOuyl8gx7KXyeuylcnh7hbwOe4Uc2l4pp7dXymHtFnnDfgQjOaTdKlfqyKMYyeHsDnJK+1S7HMruJKezTz3aQQ5jd5RT2R3lEHZnOY3dWR5v95BT2D3ksXYvOb7dSx5n95Rj2z3lMXZvOa7dWx5uD5Bj2gPkofYgOZ49SB5mD5Rj2QPlIfZgOY49WO5vj5Bj2CPkvvYoObw9Su5nj5RD2yPlPvZoOaw9Wu5uB5BD2gHkrnYQOZwdRO5mB5JD2YHkLnYwOYwdTG63A8oh7IBymx1UHm8HlVfbgeWxdmB5lR1cHmcHl5fbEeQxdgR5mR1FHm5HkRfbkeShdiR5kR1NHmZHk3faEeUhdkR5ux1V7m9HlbfakeW+dmR5sx1d7mdHl++zE8h97ATyvXYSubudRD5mJ5K72onko/ZjjrV23Ow51o63jznhRLv8pJOnWTtl7hXWTrWPOc3lTUyfd+VVtk53v8ZiO+Pq+dfYOhPorOmqdwEnur52IR1d9V3Hia4XLaajq+tv4ETXN95ER1fqZk50fcuthHR12xJGdK1vJ6SrO5Zyous7CenqrmWc6Pru5XR0tWIlJ7q+p5+Orubdy4mu75tPR1e993Oi6wdW0dFV32pOdL1mMR1drV3Hia7XP0hHV+ohTnQ98DAhXT3CiV643KDR1aNLOdH1Y4R09fgyTnT9xAY6ulrxJCe6fqqfjt6+3NRM108/Q0dXvc9youvnnqejq42rOdH1phfo6GrtHE50vf5FOrpSsznR9cBLhHT1Mie61nMJ6eqVJZzo+lVCunrtdU50/cYGOrravDKY3tUFTtdbltPR1ZtvBdK7urtD7NV0/XY/HV29824QvavbmBC7ha7fW0VHVxsXBND3yIPsNrretJCOrvre96aPyUPsVrpe9AEdXamzAuUBdjtdD5xNSD8nVO5vd6Drc9nSm+Xe9qTprXJfe8r0drmnPWF6p9zPni69SO5lT5ZeLPexp0ovk3vYE6WXy93tadKr5M72JOnV8ob9vP2VbpMbM6Nn/6Tb5W729Ogucid7cnQ3uYs9Nbqr3MGeGL3nfFe53Z4WvWeGu9xqT4ruJ7fZU6L7yi32hOj+8mp7OvQQeaU9GXqYvMqeCj1UXmFPhB4uL7enQY+Rl9qToMfJy+wp0GPlJfYE6PHyYjt/OoS80M6eDiMvsnOnQ8kL7MzpcPJOO286pLzDzpoOK2+3c6ZDy9vsjOnw8lY7XzqGvMXOlo4jb7ZzpWPJm+xM6XjyfXaedEz5hJ0lHVe+186Rji0ftzOk48vH7PzoFPJROzs6jXyPnRv9AiJ5w34hM/pFF9u7ZPBDW5c6jLmMGd3lD6qZW632WQ5juH3wTnTz0bZs6Wb7ULZ08/GObOnmk0+zpZvhz7Klm5HPs6WbkS+ypRvzZb5089VgtnTz9bZs6eaboWzp5tsd2dLNzu+ypZvh77Olm5EfsqWbkV3Z0o35MV9623KTFd38tDtbuvl5KFu6+eXXbOlm52/Z0s3vf2RLN8N/Zks3f+3Klm7M3/nSzT+D2dLN1t3Z0s2//2VLN9svz5ZuZgpd6EIXutCFLnShC13oQhe60IUudKELXehCF7rQhS50oQtd6EIXutCFLnShC13oQhe60IUudKELXehCF7rQhS50oQtd6EIXutDzov8PkVLtBMKmRJ4AAAAASUVORK5CYII="}),V("text",{x:"30",y:"22",fill:"#607179"},"Highlevel")],-1),Zt=[Xt],Ur=q({__name:"Branding",props:{company:{type:Object,default:()=>({logoURL:"",domain:"",name:""})}},setup(e){return(i,n)=>(o(),d("div",Wt,[e.company&&e.company.logoURL?(o(),d("a",{key:0,href:"//"+e.company.domain,class:"branding-url",target:"_blank"},[V("img",{src:e.company.logoURL},null,8,zt),V("span",Gt,F(e.company.name),1)],8,Yt)):e.company?(o(),d("a",Qt,Zt)):w("",!0)]))}});function Ce(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ce=function(i){return typeof i}:Ce=function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},Ce(e)}function Jt(e,i){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}function Xe(e,i){for(var n=0;n<i.length;n++){var t=i[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function _t(e,i,n){return i&&Xe(e.prototype,i),n&&Xe(e,n),e}function Ze(e){return ei(e)||ti(e)||ii(e)||ni()}function ei(e){if(Array.isArray(e))return Be(e)}function ti(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function ii(e,i){if(!!e){if(typeof e=="string")return Be(e,i);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Be(e,i)}}function Be(e,i){(i==null||i>e.length)&&(i=e.length);for(var n=0,t=new Array(i);n<i;n++)t[n]=e[n];return t}function ni(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ai(e){var i;return typeof e=="function"?i={callback:e}:i=e,i}function ri(e,i){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},t,a,l,r=function(m){for(var f=arguments.length,s=new Array(f>1?f-1:0),h=1;h<f;h++)s[h-1]=arguments[h];if(l=s,!(t&&m===a)){var v=n.leading;typeof v=="function"&&(v=v(m,a)),(!t||m!==a)&&v&&e.apply(void 0,[m].concat(Ze(l))),a=m,clearTimeout(t),t=setTimeout(function(){e.apply(void 0,[m].concat(Ze(l))),t=0},i)}};return r._clear=function(){clearTimeout(t),t=null},r}function lt(e,i){if(e===i)return!0;if(Ce(e)==="object"){for(var n in e)if(!lt(e[n],i[n]))return!1;return!0}return!1}var li=function(){function e(i,n,t){Jt(this,e),this.el=i,this.observer=null,this.frozen=!1,this.createObserver(n,t)}return _t(e,[{key:"createObserver",value:function(n,t){var a=this;if(this.observer&&this.destroyObserver(),!this.frozen){if(this.options=ai(n),this.callback=function(c,m){a.options.callback(c,m),c&&a.options.once&&(a.frozen=!0,a.destroyObserver())},this.callback&&this.options.throttle){var l=this.options.throttleOptions||{},r=l.leading;this.callback=ri(this.callback,this.options.throttle,{leading:function(m){return r==="both"||r==="visible"&&m||r==="hidden"&&!m}})}this.oldResult=void 0,this.observer=new IntersectionObserver(function(c){var m=c[0];if(c.length>1){var f=c.find(function(h){return h.isIntersecting});f&&(m=f)}if(a.callback){var s=m.isIntersecting&&m.intersectionRatio>=a.threshold;if(s===a.oldResult)return;a.oldResult=s,a.callback(s,m)}},this.options.intersection),je(function(){a.observer&&a.observer.observe(a.el)})}}},{key:"destroyObserver",value:function(){this.observer&&(this.observer.disconnect(),this.observer=null),this.callback&&this.callback._clear&&(this.callback._clear(),this.callback=null)}},{key:"threshold",get:function(){return this.options.intersection&&typeof this.options.intersection.threshold=="number"?this.options.intersection.threshold:0}}]),e}();function st(e,i,n){var t=i.value;if(!!t)if(typeof IntersectionObserver>"u")console.warn("[vue-observe-visibility] IntersectionObserver API is not available in your browser. Please install this polyfill: https://github.com/w3c/IntersectionObserver/tree/master/polyfill");else{var a=new li(e,t,n);e._vue_visibilityState=a}}function si(e,i,n){var t=i.value,a=i.oldValue;if(!lt(t,a)){var l=e._vue_visibilityState;if(!t){ot(e);return}l?l.createObserver(t,n):st(e,{value:t},n)}}function ot(e){var i=e._vue_visibilityState;i&&(i.destroyObserver(),delete e._vue_visibilityState)}var oi={beforeMount:st,updated:si,unmounted:ot};const di=/[(http(s)?):\/\/(www\.)?a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&//=]*)/,ui=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,ci=e=>e?di.test(e):!0,J=e=>e==null||e==="",dt=(e,i)=>{if(!e)return!0;const n=window.libphonenumber.parsePhoneNumberFromString(e,i);return n?n.isValid():!1},hi=e=>e?ui.test(e):!0,mi=e=>e?ze(e).isBefore(ze()):!0,fi=e=>{if(!e)return!0;var i=/^\d{4}-\d{2}-\d{2}$/;if(!e.match(i))return!1;var n=new Date(e),t=n.getTime();return!t&&t!==0?!1:n.toISOString().slice(0,10)===e};/*!
 * Signature Pad v4.0.4 | https://github.com/szimek/signature_pad
 * (c) 2022 Szymon Nowak | Released under the MIT license
 */class Le{constructor(i,n,t,a){if(isNaN(i)||isNaN(n))throw new Error(`Point is invalid: (${i}, ${n})`);this.x=+i,this.y=+n,this.pressure=t||0,this.time=a||Date.now()}distanceTo(i){return Math.sqrt(Math.pow(this.x-i.x,2)+Math.pow(this.y-i.y,2))}equals(i){return this.x===i.x&&this.y===i.y&&this.pressure===i.pressure&&this.time===i.time}velocityFrom(i){return this.time!==i.time?this.distanceTo(i)/(this.time-i.time):0}}class He{constructor(i,n,t,a,l,r){this.startPoint=i,this.control2=n,this.control1=t,this.endPoint=a,this.startWidth=l,this.endWidth=r}static fromPoints(i,n){const t=this.calculateControlPoints(i[0],i[1],i[2]).c2,a=this.calculateControlPoints(i[1],i[2],i[3]).c1;return new He(i[1],t,a,i[2],n.start,n.end)}static calculateControlPoints(i,n,t){const a=i.x-n.x,l=i.y-n.y,r=n.x-t.x,c=n.y-t.y,m={x:(i.x+n.x)/2,y:(i.y+n.y)/2},f={x:(n.x+t.x)/2,y:(n.y+t.y)/2},s=Math.sqrt(a*a+l*l),h=Math.sqrt(r*r+c*c),v=m.x-f.x,b=m.y-f.y,C=h/(s+h),p={x:f.x+v*C,y:f.y+b*C},g=n.x-p.x,S=n.y-p.y;return{c1:new Le(m.x+g,m.y+S),c2:new Le(f.x+g,f.y+S)}}length(){let n=0,t,a;for(let l=0;l<=10;l+=1){const r=l/10,c=this.point(r,this.startPoint.x,this.control1.x,this.control2.x,this.endPoint.x),m=this.point(r,this.startPoint.y,this.control1.y,this.control2.y,this.endPoint.y);if(l>0){const f=c-t,s=m-a;n+=Math.sqrt(f*f+s*s)}t=c,a=m}return n}point(i,n,t,a,l){return n*(1-i)*(1-i)*(1-i)+3*t*(1-i)*(1-i)*i+3*a*(1-i)*i*i+l*i*i*i}}class vi{constructor(){try{this._et=new EventTarget}catch{this._et=document}}addEventListener(i,n,t){this._et.addEventListener(i,n,t)}dispatchEvent(i){return this._et.dispatchEvent(i)}removeEventListener(i,n,t){this._et.removeEventListener(i,n,t)}}function yi(e,i=250){let n=0,t=null,a,l,r;const c=()=>{n=Date.now(),t=null,a=e.apply(l,r),t||(l=null,r=[])};return function(...f){const s=Date.now(),h=i-(s-n);return l=this,r=f,h<=0||h>i?(t&&(clearTimeout(t),t=null),n=s,a=e.apply(l,r),t||(l=null,r=[])):t||(t=window.setTimeout(c,h)),a}}class Ae extends vi{constructor(i,n={}){super(),this.canvas=i,this._handleMouseDown=t=>{t.buttons===1&&(this._drawningStroke=!0,this._strokeBegin(t))},this._handleMouseMove=t=>{this._drawningStroke&&this._strokeMoveUpdate(t)},this._handleMouseUp=t=>{t.buttons===1&&this._drawningStroke&&(this._drawningStroke=!1,this._strokeEnd(t))},this._handleTouchStart=t=>{if(t.preventDefault(),t.targetTouches.length===1){const a=t.changedTouches[0];this._strokeBegin(a)}},this._handleTouchMove=t=>{t.preventDefault();const a=t.targetTouches[0];this._strokeMoveUpdate(a)},this._handleTouchEnd=t=>{if(t.target===this.canvas){t.preventDefault();const l=t.changedTouches[0];this._strokeEnd(l)}},this._handlePointerStart=t=>{this._drawningStroke=!0,t.preventDefault(),this._strokeBegin(t)},this._handlePointerMove=t=>{this._drawningStroke&&(t.preventDefault(),this._strokeMoveUpdate(t))},this._handlePointerEnd=t=>{this._drawningStroke&&(t.preventDefault(),this._drawningStroke=!1,this._strokeEnd(t))},this.velocityFilterWeight=n.velocityFilterWeight||.7,this.minWidth=n.minWidth||.5,this.maxWidth=n.maxWidth||2.5,this.throttle="throttle"in n?n.throttle:16,this.minDistance="minDistance"in n?n.minDistance:5,this.dotSize=n.dotSize||0,this.penColor=n.penColor||"black",this.backgroundColor=n.backgroundColor||"rgba(0,0,0,0)",this._strokeMoveUpdate=this.throttle?yi(Ae.prototype._strokeUpdate,this.throttle):Ae.prototype._strokeUpdate,this._ctx=i.getContext("2d"),this.clear(),this.on()}clear(){const{_ctx:i,canvas:n}=this;i.fillStyle=this.backgroundColor,i.clearRect(0,0,n.width,n.height),i.fillRect(0,0,n.width,n.height),this._data=[],this._reset(),this._isEmpty=!0}fromDataURL(i,n={}){return new Promise((t,a)=>{const l=new Image,r=n.ratio||window.devicePixelRatio||1,c=n.width||this.canvas.width/r,m=n.height||this.canvas.height/r,f=n.xOffset||0,s=n.yOffset||0;this._reset(),l.onload=()=>{this._ctx.drawImage(l,f,s,c,m),t()},l.onerror=h=>{a(h)},l.crossOrigin="anonymous",l.src=i,this._isEmpty=!1})}toDataURL(i="image/png",n){switch(i){case"image/svg+xml":return this._toSVG();default:return this.canvas.toDataURL(i,n)}}on(){this.canvas.style.touchAction="none",this.canvas.style.msTouchAction="none",this.canvas.style.userSelect="none";const i=/Macintosh/.test(navigator.userAgent)&&"ontouchstart"in document;window.PointerEvent&&!i?this._handlePointerEvents():(this._handleMouseEvents(),"ontouchstart"in window&&this._handleTouchEvents())}off(){this.canvas.style.touchAction="auto",this.canvas.style.msTouchAction="auto",this.canvas.style.userSelect="auto",this.canvas.removeEventListener("pointerdown",this._handlePointerStart),this.canvas.removeEventListener("pointermove",this._handlePointerMove),document.removeEventListener("pointerup",this._handlePointerEnd),this.canvas.removeEventListener("mousedown",this._handleMouseDown),this.canvas.removeEventListener("mousemove",this._handleMouseMove),document.removeEventListener("mouseup",this._handleMouseUp),this.canvas.removeEventListener("touchstart",this._handleTouchStart),this.canvas.removeEventListener("touchmove",this._handleTouchMove),this.canvas.removeEventListener("touchend",this._handleTouchEnd)}isEmpty(){return this._isEmpty}fromData(i,{clear:n=!0}={}){n&&this.clear(),this._fromData(i,this._drawCurve.bind(this),this._drawDot.bind(this)),this._data=this._data.concat(i)}toData(){return this._data}_strokeBegin(i){this.dispatchEvent(new CustomEvent("beginStroke",{detail:i}));const n={dotSize:this.dotSize,minWidth:this.minWidth,maxWidth:this.maxWidth,penColor:this.penColor,points:[]};this._data.push(n),this._reset(),this._strokeUpdate(i)}_strokeUpdate(i){if(this._data.length===0){this._strokeBegin(i);return}this.dispatchEvent(new CustomEvent("beforeUpdateStroke",{detail:i}));const n=i.clientX,t=i.clientY,a=i.pressure!==void 0?i.pressure:i.force!==void 0?i.force:0,l=this._createPoint(n,t,a),r=this._data[this._data.length-1],c=r.points,m=c.length>0&&c[c.length-1],f=m?l.distanceTo(m)<=this.minDistance:!1,{penColor:s,dotSize:h,minWidth:v,maxWidth:b}=r;if(!m||!(m&&f)){const C=this._addPoint(l);m?C&&this._drawCurve(C,{penColor:s,dotSize:h,minWidth:v,maxWidth:b}):this._drawDot(l,{penColor:s,dotSize:h,minWidth:v,maxWidth:b}),c.push({time:l.time,x:l.x,y:l.y,pressure:l.pressure})}this.dispatchEvent(new CustomEvent("afterUpdateStroke",{detail:i}))}_strokeEnd(i){this._strokeUpdate(i),this.dispatchEvent(new CustomEvent("endStroke",{detail:i}))}_handlePointerEvents(){this._drawningStroke=!1,this.canvas.addEventListener("pointerdown",this._handlePointerStart),this.canvas.addEventListener("pointermove",this._handlePointerMove),document.addEventListener("pointerup",this._handlePointerEnd)}_handleMouseEvents(){this._drawningStroke=!1,this.canvas.addEventListener("mousedown",this._handleMouseDown),this.canvas.addEventListener("mousemove",this._handleMouseMove),document.addEventListener("mouseup",this._handleMouseUp)}_handleTouchEvents(){this.canvas.addEventListener("touchstart",this._handleTouchStart),this.canvas.addEventListener("touchmove",this._handleTouchMove),this.canvas.addEventListener("touchend",this._handleTouchEnd)}_reset(){this._lastPoints=[],this._lastVelocity=0,this._lastWidth=(this.minWidth+this.maxWidth)/2,this._ctx.fillStyle=this.penColor}_createPoint(i,n,t){const a=this.canvas.getBoundingClientRect();return new Le(i-a.left,n-a.top,t,new Date().getTime())}_addPoint(i){const{_lastPoints:n}=this;if(n.push(i),n.length>2){n.length===3&&n.unshift(n[0]);const t=this._calculateCurveWidths(n[1],n[2]),a=He.fromPoints(n,t);return n.shift(),a}return null}_calculateCurveWidths(i,n){const t=this.velocityFilterWeight*n.velocityFrom(i)+(1-this.velocityFilterWeight)*this._lastVelocity,a=this._strokeWidth(t),l={end:a,start:this._lastWidth};return this._lastVelocity=t,this._lastWidth=a,l}_strokeWidth(i){return Math.max(this.maxWidth/(i+1),this.minWidth)}_drawCurveSegment(i,n,t){const a=this._ctx;a.moveTo(i,n),a.arc(i,n,t,0,2*Math.PI,!1),this._isEmpty=!1}_drawCurve(i,n){const t=this._ctx,a=i.endWidth-i.startWidth,l=Math.ceil(i.length())*2;t.beginPath(),t.fillStyle=n.penColor;for(let r=0;r<l;r+=1){const c=r/l,m=c*c,f=m*c,s=1-c,h=s*s,v=h*s;let b=v*i.startPoint.x;b+=3*h*c*i.control1.x,b+=3*s*m*i.control2.x,b+=f*i.endPoint.x;let C=v*i.startPoint.y;C+=3*h*c*i.control1.y,C+=3*s*m*i.control2.y,C+=f*i.endPoint.y;const p=Math.min(i.startWidth+f*a,n.maxWidth);this._drawCurveSegment(b,C,p)}t.closePath(),t.fill()}_drawDot(i,n){const t=this._ctx,a=n.dotSize>0?n.dotSize:(n.minWidth+n.maxWidth)/2;t.beginPath(),this._drawCurveSegment(i.x,i.y,a),t.closePath(),t.fillStyle=n.penColor,t.fill()}_fromData(i,n,t){for(const a of i){const{penColor:l,dotSize:r,minWidth:c,maxWidth:m,points:f}=a;if(f.length>1)for(let s=0;s<f.length;s+=1){const h=f[s],v=new Le(h.x,h.y,h.pressure,h.time);this.penColor=l,s===0&&this._reset();const b=this._addPoint(v);b&&n(b,{penColor:l,dotSize:r,minWidth:c,maxWidth:m})}else this._reset(),t(f[0],{penColor:l,dotSize:r,minWidth:c,maxWidth:m})}}_toSVG(){const i=this._data,n=Math.max(window.devicePixelRatio||1,1),t=0,a=0,l=this.canvas.width/n,r=this.canvas.height/n,c=document.createElementNS("http://www.w3.org/2000/svg","svg");c.setAttribute("width",this.canvas.width.toString()),c.setAttribute("height",this.canvas.height.toString()),this._fromData(i,(b,{penColor:C})=>{const p=document.createElement("path");if(!isNaN(b.control1.x)&&!isNaN(b.control1.y)&&!isNaN(b.control2.x)&&!isNaN(b.control2.y)){const g=`M ${b.startPoint.x.toFixed(3)},${b.startPoint.y.toFixed(3)} C ${b.control1.x.toFixed(3)},${b.control1.y.toFixed(3)} ${b.control2.x.toFixed(3)},${b.control2.y.toFixed(3)} ${b.endPoint.x.toFixed(3)},${b.endPoint.y.toFixed(3)}`;p.setAttribute("d",g),p.setAttribute("stroke-width",(b.endWidth*2.25).toFixed(3)),p.setAttribute("stroke",C),p.setAttribute("fill","none"),p.setAttribute("stroke-linecap","round"),c.appendChild(p)}},(b,{penColor:C,dotSize:p,minWidth:g,maxWidth:S})=>{const E=document.createElement("circle"),M=p>0?p:(g+S)/2;E.setAttribute("r",M.toString()),E.setAttribute("cx",b.x.toString()),E.setAttribute("cy",b.y.toString()),E.setAttribute("fill",C),c.appendChild(E)});const m="data:image/svg+xml;base64,",f=`<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="${t} ${a} ${this.canvas.width} ${this.canvas.height}" width="${l}" height="${r}">`;let s=c.innerHTML;if(s===void 0){const b=document.createElement("dummy"),C=c.childNodes;b.innerHTML="";for(let p=0;p<C.length;p+=1)b.appendChild(C[p].cloneNode(!0));s=b.innerHTML}const h="</svg>",v=f+s+h;return m+btoa(v)}}const gi={class:"form-builder--item"},pi=["innerHTML"],bi={key:1},wi={key:0},Si=["name","value","id"],ki={key:3,id:"error-container",class:"error"},Hr=q({__name:"SignatureElement",props:{kind:{type:String},item:{type:Object},formFieldsValue:{type:Object},formLabelVisible:{type:Boolean},errors:{type:Object,default:()=>({})}},emits:["updateFormFieldsValue","addOrUpdateError"],setup(e,{expose:i,emit:n}){const t=e;xt().vueApp.directive("observe-visibility",oi);const r=A(),c=A(),m=A(),f=L(()=>t.kind=="form"),s=L(()=>t.kind=="survey"),h=L(()=>t.errors[t.item.tag]),v=(I,U)=>{n("addOrUpdateError",{tag:I,error:U})},b=()=>{if(s.value)return;const I=t.formFieldsValue[t.item.tag];t.item.required&&J(I)?v(t.item.tag,`${t.item.label} is required`):v(t.item.tag,null)},C=(I,U)=>{for(var _=I.split(","),ae=_[0].match(/:(.*?);/)[1],Y=atob(_[1]),te=Y.length,se=new Uint8Array(te);te--;)se[te]=Y.charCodeAt(te);return new File([se],U,{type:ae})},p=I=>{m.value.clear(),E(I,void 0),b()},g=()=>{je(()=>{const I=m.value.toData();r.value.width=c.value.offsetWidth,r.value.height=c.value.offsetHeight,m.value.clear(),m.value.fromData(I)})},S=(I,U)=>{I&&g()},E=(I,U)=>{n("updateFormFieldsValue",{tag:I,value:U})},M=I=>{const{isEmpty:U,data:_}=ne();if(!U){const ae=C(_,`sign-timestamp-${Math.floor(+new Date().getTime()/1e3).toString()}.png`);E(I,ae),b()}},D=I=>Ge.includes(I),ie=(I,U)=>{m.value=new Ae(I,{...Ct,...U})},ne=(I=Ge[0],U)=>{var te,se;const _={isEmpty:!1,data:void 0};if(!D(I))throw new Error("The Image type is incorrect!");const Y=(te=m.value)==null?void 0:te.isEmpty();if(Y===void 0)throw new Error("Canvas element is invalid!");return Y?{..._,isEmpty:Y}:{..._,data:(se=m.value)==null?void 0:se.toDataURL(I,U)}};return ce(r,()=>{ie(r.value)}),i({validate:b,item:t.item,resizeCanvas:g}),(I,U)=>{const _=Rt,ae=Tt("observe-visibility");return o(),d("div",gi,[u(s)&&e.item.description!==void 0?(o(),d("label",{key:0,innerHTML:e.item.description,class:"item-description"},null,8,pi)):w("",!0),e.formLabelVisible?(o(),d("label",bi,[H(F(e.item.label)+" ",1),e.item.required?(o(),d("span",wi,"*")):w("",!0)])):w("",!0),V("section",{onMouseleave:U[1]||(U[1]=Y=>M(e.item.tag)),onTouchend:U[2]||(U[2]=Y=>M(e.item.tag)),class:"signature-container"},[j(_,null,{default:Fe(()=>[N((o(),d("div",{style:{width:"100%"},ref:Y=>{c.value=Y}},[V("canvas",{class:"signature-button",ref:Y=>{r.value=Y},style:{"min-height":"150px"}},null,512)])),[[ae,{callback:S,once:!0}]])]),_:1}),V("a",{class:"clear-button",onClick:U[0]||(U[0]=T(Y=>p(e.item.tag),["prevent"]))},"Clear")],32),u(f)?(o(),d("input",{key:2,class:"file-input",name:e.item.label,value:e.formFieldsValue[e.item.tag],id:e.item.tag},null,8,Si)):w("",!0),u(h)?(o(),d("div",ki,F(u(h)),1)):w("",!0)])}}});const Nr=e=>/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/gim.test(e)!==!1,Kr=(e,i)=>{const n=window.libphonenumber.parsePhoneNumberFromString(e,i);return n?n.isValid():!1},Wr=(e,i,n=void 0)=>{const t=l=>String.prototype.split.call(i,l).filter(Boolean).reduce((r,c)=>r!=null?r[c]:r,e),a=t(/[,[\]]+?/)||t(/[,[\].]+?/);return a===void 0||a===e?n:a},Yr=e=>typeof e=="object"&&e!=null?!(Object.keys(e).length>=1):!0,Vi=e=>(i,n)=>i[e]>n[e]?1:n[e]>i[e]?-1:0,zr=(e,i)=>e.concat().sort(Vi(i)),Gr=(e,{length:i,ending:n})=>e?(i==null&&(i=100),n==null&&(n="..."),e.length>i?e.substring(0,i-n.length)+n:e):"",Je={docx:["vnd.openxmlformats-officedocument.wordprocessingml.document","docx"],doc:["msword","doc"],xlsx:["vnd.openxmlformats-officedocument.spreadsheetml.sheet","xlsx"],xls:["vnd.ms-excel","xls"]},Oi={class:"form-builder--item"},Ei=["innerHTML"],Ci={key:1},Fi={key:0},Li=["for"],Ai=V("svg",{width:"1em",height:"2em",viewBox:"0 0 16 16",class:"bi bi-upload",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},[V("path",{"fill-rule":"evenodd",d:"M.5 8a.5.5 0 0 1 .5.5V12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V8.5a.5.5 0 0 1 1 0V12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V8.5A.5.5 0 0 1 .5 8zM5 4.854a.5.5 0 0 0 .707 0L8 2.56l2.293 2.293A.5.5 0 1 0 11 4.146L8.354 1.5a.5.5 0 0 0-.708 0L5 4.146a.5.5 0 0 0 0 .708z"}),V("path",{"fill-rule":"evenodd",d:"M8 2a.5.5 0 0 1 .5.5v8a.5.5 0 0 1-1 0v-8A.5.5 0 0 1 8 2z"})],-1),Mi=["accept","name","id","multiple"],$i={key:2,id:"error-container",class:"error"},Qr=q({__name:"FileUploadElement",props:{kind:{type:String},item:{type:Object},formFieldsValue:{type:Object},formLabelVisible:{type:Boolean},errors:{type:Object,default:()=>({})}},emits:["updateFormFieldsValue","addOrUpdateError"],setup(e,{expose:i,emit:n}){const t=e,a=L(()=>t.kind=="form"),l=L(()=>t.kind=="survey"),r=L(()=>t.errors[t.item.tag]),c=A(),m=A("");he(()=>{m.value=tt()});const f=g=>{var S=g==0?0:Math.floor(Math.log(g)/Math.log(1024));return Number((g/Math.pow(1024,S)).toFixed(2))*1+" "+["B","kB","MB","GB","TB"][S]},s=g=>{if(t.formFieldsValue[g.tag])if(t.formFieldsValue[g.tag].hasOwnProperty("files")){let S=t.formFieldsValue[g.tag].files.length,E=[];for(let M=0;M<S;M++)E.push(`${t.formFieldsValue[g.tag].files[M].name} - ${f(t.formFieldsValue[g.tag].files[M].size)}`);return E}else return[`${t.formFieldsValue[g.tag].name} - ${f(t.formFieldsValue[g.tag].size)}`];else return[`${g.placeholder} ${g.picklistOptions.length&&g.placeholder?"-":""} ${g.picklistOptions.join(", ")}`]},h=g=>g.reduce((S,E)=>{const M=E.substring(1);return Object.keys(Je).includes(M)?[...S,...Je[M]]:[...S,M]},[]),v=(g,S)=>{n("updateFormFieldsValue",{tag:g,value:S})},b=g=>{if(c.value.files.length>g.multiFileLimit)return alert(`The field only allows a maximum of ${g.multiFileLimit} files`);if(c.value.files.length){const S={files:c.value.files};v(g.tag,S)}else v(g.tag,null)},C=(g,S)=>{n("addOrUpdateError",{tag:g,error:S})};return i({validate:async()=>{if(l.value)return;const g=c.value.files;if(t.item.required&&g.length===0)C(t.item.tag,`${t.item.label} is required`);else{const S=await Promise.all(Object.values(g).map(D=>D.type.split("/")[1])),E=h(t.item.picklistOptions);let M=!1;(E==null?void 0:E.length)!==0&&await Promise.all(S.map(D=>{if(E.findIndex(ne=>ne===D)===-1){C(t.item.tag,"Invalid file extension!"),M=!0;return}})),M||C(t.item.tag,null)}},item:t.item}),(g,S)=>(o(),d("div",{class:$(["file-upload",{"padding-10":u(l)}])},[V("div",Oi,[u(l)&&e.item.description!==void 0?(o(),d("label",{key:0,innerHTML:e.item.description,class:"item-description"},null,8,Ei)):w("",!0),e.formLabelVisible?(o(),d("label",Ci,[H(F(e.item.label)+" ",1),e.item.required?(o(),d("span",Fi,"*")):w("",!0)])):w("",!0),V("label",{class:"custom-file-upload",for:u(m)},[Ai,(o(!0),d(X,null,Z(s(e.item),(E,M)=>(o(),d("section",{key:M,class:$({"mb-6":u(a),"mb-10":u(l)})},F(E),3))),128))],8,Li),V("input",{class:"file-input",type:"file",accept:e.item.picklistOptions.join(","),onChange:S[0]||(S[0]=E=>b(e.item)),ref:E=>c.value=E,name:e.item.label,id:u(m),multiple:e.item.multipleFilesAllowed},null,40,Mi),u(r)?(o(),d("div",$i,F(u(r)),1)):w("",!0)])],2))}});const xi=["readonly","value","placeholder","data-q","data-required"],Ti={class:"vdpInnerWrap"},Pi={class:"vdpHeader"},Di={key:0},Ii=["title","disabled"],Bi={width:"36",height:"36",viewBox:"0 0 36 36",fill:"none",xmlns:"http://www.w3.org/2000/svg"},qi=["stroke"],Ri=["fill"],ji=["title","disabled"],Ui={width:"36",height:"36",viewBox:"0 0 36 36",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Hi=["stroke"],Ni=["fill"],Ki=["title","disabled"],Wi=["title","disabled"],Yi={class:"vdpPeriodControls"},zi={class:"vdpPeriodControl"},Gi=["value"],Qi={class:"vdpPeriodControl"},Xi=["value"],Zi={class:"vdpTable"},Ji={class:"vdpHeadCellContent text-capitalize"},_i=["data-id"],en=["onClick"],tn={key:0,class:"vdpTimeControls"},nn={class:"vdpTimeCaption"},an={class:"vdpTimeUnit"},rn=V("br",null,null,-1),ln=["value"],sn={key:0,class:"vdpTimeSeparator"},on={key:1,class:"vdpTimeUnit"},dn=V("br",null,null,-1),un=["value"],cn={key:2,class:"vdpTimeSeparator"},hn={key:3,class:"vdpTimeUnit"},mn=V("br",null,null,-1),fn=["value"],vn=q({__name:"DatePick",props:{modelValue:{type:String,default:""},format:{type:String,default:"YYYY-MM-DD"},displayFormat:{type:String},editable:{type:Boolean,default:!0},hasInputElement:{type:Boolean,default:!0},inputAttributes:{type:Object},selectableYearRange:{type:Number,default:40},parseDate:{type:Function},formatDate:{type:Function},pickTime:{type:Boolean,default:!1},pickMinutes:{type:Boolean,default:!0},pickSeconds:{type:Boolean,default:!1},isDateDisabled:{type:Function,default:()=>!1},nextMonthCaption:{type:String,default:"Next month"},prevMonthCaption:{type:String,default:"Previous month"},setTimeCaption:{type:String,default:"Set time:"},mobileBreakpointWidth:{type:Number,default:500},disablePeriodControl:{type:Boolean,default:!1},joinNextPreviousArrow:{type:Boolean,default:!1},calendarRange:{type:Object,default:()=>({from:"",to:""})},weekdays:{type:Array,default:()=>["Mon","Tue","Wed","Thu","Fri","Sat","Sun"]},months:{type:Array,default:()=>["January","February","March","April","May","June","July","August","September","October","November","December"]},startDayOfWeek:{type:[String,Number],default:"1"},startWeekOnSunday:{type:Boolean,default:!1},placeholder:{type:String,default:""},allowFutureDate:{type:Boolean,default:!0},dataQ:{type:String,required:!1},dataRequired:{type:Boolean,required:!1}},emits:["disableNextMonth","changedMonth","changedYear","update:modelValue"],setup(e,{expose:i,emit:n}){const t=e,a=/,|\.|-| |:|\/|\\/,l=/D+/,r=/M+/,c=/Y+/,m=/h+/i,f=/m+/,s=/s+/,h=(y,k)=>typeof y<"u"?y.toString().length>k?y:new Array(k-y.toString().length+1).join("0")+y:void 0,v=(y,k)=>{const O=[];for(;y.length;)O.push(y.splice(0,k));return O},b=(y,k)=>y.getDate()===k.getDate()&&y.getMonth()===k.getMonth()&&y.getFullYear()===k.getFullYear(),C=(y,k)=>{let O,P,x,le,ue,Ee;y instanceof Array&&(y==null?void 0:y.length)>0&&(y=typeof y[0]===String?y[0]:"");const B=y.split(a),G=k.split(a),kt=G.length;for(let K=0;K<kt;K++)G[K].match(l)?O=parseInt(B[K],10):G[K].match(r)?P=parseInt(B[K],10):G[K].match(c)?x=parseInt(B[K],10):G[K].match(m)?le=parseInt(B[K],10):G[K].match(f)?ue=parseInt(B[K],10):G[K].match(s)&&(Ee=parseInt(B[K],10));const Vt=new Date([h(x,4),h(P,2),h(O,2)].join("-"));if(!isNaN(Vt)){const K=new Date(x,P-1,O);return[[x,"setFullYear"],[le,"setHours"],[ue,"setMinutes"],[Ee,"setSeconds"]].forEach(([We,Ot])=>{typeof We<"u"&&K[Ot](We)}),K}},p=(y,k)=>y?t.parseDate?t.parseDate(y,k):C(y,k):void 0,g=(y,k)=>{const O=p(y,k)||new Date;return{month:O.getMonth(),year:O.getFullYear()}},S=y=>{if(!y)return!1;const{year:k,month:O}=g(y,t.format);return`${R.value.year}-${R.value.month}`==`${k}-${O}`},E=(y,k)=>k.replace(c,O=>y.getFullYear()).replace(r,O=>h(y.getMonth()+1,O.length)).replace(l,O=>h(y.getDate(),O.length)).replace(m,O=>h(y.getHours(),O.length)).replace(f,O=>h(y.getMinutes(),O.length)).replace(s,O=>h(y.getSeconds(),O.length)),M=(y=1)=>{const k=new Date(R.value.year,R.value.month),O=new Date(k.getFullYear(),k.getMonth()+y);R.value={month:O.getMonth(),year:O.getFullYear()}},D=y=>{const k=p(y,t.displayFormat||t.format);Ve.value=y,n("update:modelValue",k?ke(k,t.format):y)},ie=()=>{pe.value||(pe.value=!0,R.value=g(t.modelValue,t.format),U(),Y()),ge.value=void 0},ne=()=>{pe.value&&(pe.value=!1,ge.value=void 0,ae(),se())},I=y=>{t.hasInputElement&&y.target===Oe.value&&ne()},U=()=>{fe.value||(fe.value=k=>_(k),["click","keyup","focusin"].forEach(k=>{document.addEventListener(k,fe.value)}))},_=y=>{if(!be.value){ne();return}y.keyCode?y.keyCode===27&&ne():y.target!==be.value&&!be.value.contains(y.target)&&ne()},ae=()=>{fe.value&&(["click","keyup","focusin"].forEach(y=>document.removeEventListener(y,fe.value)),fe.value=null)},Y=()=>{me.value||(me.value=()=>te(),document.addEventListener("resize",me.value)),te()},te=()=>{const y=be.value.getBoundingClientRect();let k="vdpPositionTop",O="vdpPositionLeft";const P=()=>{const x=Oe.value.getBoundingClientRect(),le=x.height,ue=x.width;window.innerWidth>t.mobileBreakpointWidth&&(y.top+y.height+le>window.innerHeight&&y.top-le>0&&(k="vdpPositionBottom"),y.left+ue>window.innerWidth&&(O="vdpPositionRight"),$e.value=["vdpPositionReady",k,O].join(" "))};Oe.value?P():je(P)},se=()=>{me.value&&($e.value=void 0,document.removeEventListener("resize",me.value),me.value=null)},mt=()=>{n("update:modelValue","")},ft=y=>{if(!y.disabled){const k=new Date(y.date);ee.value&&(k.setHours(ee.value.hours),k.setMinutes(ee.value.minutes),k.setSeconds(ee.value.seconds)),n("update:modelValue",ke(k,t.format)),t.hasInputElement&&!t.pickTime&&ne()}},Me=(y,k)=>{const O=ve.value,P={setHours:23,setMinutes:59,setSeconds:59};let x=parseInt(k.target.value,10)||0;x>P[y]?x=P[y]:x<0&&(x=0),k.target.value=h(x,y==="setHours"?1:2),O[y](x),n("update:modelValue",ke(O,t.format))},ke=(y,k)=>y?t.formatDate?t.formatDate(y,k):E(y,k):"",Ke=y=>t.displayFormat&&ke(p(y,t.format),t.displayFormat)||y,vt=Ke(t.modelValue),yt=g(t.modelValue,t.format),Ve=A(vt),R=A(yt),ge=A(),$e=A(),pe=A(!t.hasInputElement),re=A(!1),de=A(!1),me=A(),fe=A(),Oe=A(),be=A(),ve=L(()=>{const y=t.modelValue,k=t.format;return y?p(y,k):void 0}),gt=L(()=>!t.editable||t.inputAttributes&&t.inputAttributes.readonly),pt=L(()=>(ve.value,t.modelValue?Boolean(ve.value):!0)),bt=L(()=>{const{year:y,month:k}=R.value,O=[],P=new Date(y,k,1),x=new Date,le=t.startDayOfWeek==0?1:t.startDayOfWeek==1?0:2,ue=P.getDay()||7;if(ue>1-le)for(let B=ue-(2-le);B>=0;B--){const G=new Date(P);G.setDate(-B),O.push({outOfRange:!0,date:G})}for(;P.getMonth()===k;)O.push({date:new Date(P)}),P.setDate(P.getDate()+1);const Ee=7-O.length%7;for(let B=1;B<=Ee;B++){const G=new Date(P);G.setDate(B),O.push({outOfRange:!0,date:G})}return O.forEach(B=>{B.disabled=t.isDateDisabled(B.date),B.today=b(B.date,x),B.dateKey=[B.date.getFullYear(),B.date.getMonth()+1,B.date.getDate()].join("-"),B.selected=ve.value?b(B.date,ve.value):!1}),v(O,7)}),wt=L(()=>{const y=[];let k=R.value.year,O=k-t.selectableYearRange,P=k+t.selectableYearRange;t.allowFutureDate||(k=new Date().getFullYear(),O-=50,P=k);for(let x=O;x<=P;x++)y.push(x);return y}),ee=L(()=>{const y=ve.value;return y?{hours:y.getHours(),minutes:y.getMinutes(),seconds:y.getSeconds(),hoursPadded:h(y.getHours(),1),minutesPadded:h(y.getMinutes(),2),secondsPadded:h(y.getSeconds(),2)}:void 0}),xe=L(()=>ge.value?`vdp${ge.value}Direction`:void 0),St=L(()=>{if(t.startDayOfWeek==0){const y=t.weekdays.slice();return y.unshift(y.pop()),y}else if(t.startDayOfWeek==6){const y=t.weekdays.slice();return y.unshift(y.pop()),y.unshift(y.pop()),y}else return t.weekdays});return ce(()=>t.modelValue,y=>{pt.value&&(Ve.value=Ke(y),R.value=g(y,t.format))}),ce(R,(y,k)=>{const O=new Date(y.year,y.month).getTime(),P=new Date(k.year,k.month).getTime();ge.value=O!==P?O>P?"Next":"Prev":void 0,de.value=S(t.calendarRange.from),re.value=S(t.calendarRange.to),n("disableNextMonth",re.value)}),ce(()=>R.value.month,()=>{n("changedMonth",R.value)}),ce(()=>R.value.year,()=>{n("changedYear",R.value)}),he(()=>{de.value=S(t.calendarRange.from),re.value=S(t.calendarRange.to),n("disableNextMonth",re.value)}),Pt(()=>{ae(),se()}),i({incrementMonth:M}),(y,k)=>(o(),d("div",{ref:O=>be.value=O,class:$([{vdpWithInput:e.hasInputElement},"vdpComponent"])},[e.hasInputElement?(o(),d("input",{key:0,onKeypress:k[0]||(k[0]=O=>O.preventDefault()),readonly:u(gt),value:u(Ve),placeholder:e.placeholder,onInput:k[1]||(k[1]=O=>e.editable&&D(O.target.value)),onFocus:k[2]||(k[2]=O=>e.editable&&ie()),onClick:k[3]||(k[3]=O=>e.editable&&ie()),type:"text","data-q":e.dataQ,"data-required":e.dataRequired},null,40,xi)):w("",!0),e.editable&&e.hasInputElement&&u(Ve)?(o(),d("button",{key:1,onClick:mt,class:"vdpClearInput",type:"button"})):w("",!0),j(De,{name:"vdp-toggle-calendar"},{default:Fe(()=>[u(pe)?(o(),d("div",{key:0,ref:O=>Oe.value=O,"on:click":I,class:$([[u($e),{vdpFloating:e.hasInputElement}],"vdpOuterWrap"])},[V("div",Ti,[V("header",Pi,[e.joinNextPreviousArrow?(o(),d("div",Di,[V("button",{title:e.prevMonthCaption,onClick:k[4]||(k[4]=O=>M(-1)),disabled:u(de),class:"arrowPrevious"},[(o(),d("svg",Bi,[V("rect",{x:"0.5",y:"0.5",width:"35",height:"35",rx:"5.5",stroke:u(de)?"#d6d6d6":"var(--appointment_widgets-primary-color)"},null,8,qi),V("path",{d:"M21.0352 8.58594L11.3281 18.293L21.0352 28L22.2109 26.8243L13.6796 18.293L22.2109 9.76166L21.0352 8.58594Z",fill:u(de)?"#d6d6d6":"var(--appointment_widgets-primary-color)"},null,8,Ri)]))],8,Ii),e.joinNextPreviousArrow?(o(),d("button",{key:0,title:e.nextMonthCaption,onClick:k[5]||(k[5]=O=>M(1)),disabled:u(re),class:"arrowNext"},[(o(),d("svg",Ui,[V("rect",{x:"0.5",y:"0.5",width:"35",height:"35",rx:"5.5",stroke:u(re)?"#d6d6d6":"var(--appointment_widgets-primary-color)"},null,8,Hi),V("path",{d:"M14.5039 8.58594L24.2109 18.293L14.5039 28L13.3282 26.8243L21.8595 18.293L13.3282 9.76166L14.5039 8.58594Z",fill:u(re)?"#d6d6d6":"var(--appointment_widgets-primary-color)"},null,8,Ni)]))],8,ji)):w("",!0)])):w("",!0),e.joinNextPreviousArrow?w("",!0):(o(),d("button",{key:1,title:e.prevMonthCaption,onClick:k[6]||(k[6]=O=>M(-1)),disabled:u(de),class:$([{vdpArrowPrevDisable:u(de)},"vdpArrow vdpArrowPrev"]),type:"button"},F(e.prevMonthCaption),11,Ki)),e.joinNextPreviousArrow?w("",!0):(o(),d("button",{key:2,title:e.nextMonthCaption,onClick:k[7]||(k[7]=O=>M(1)),disabled:u(re),class:$([{vdpArrowNextDisable:u(re)},"vdpArrow vdpArrowNext"]),type:"button"},F(e.nextMonthCaption),11,Wi)),V("div",Yi,[V("div",zi,[(o(),d("button",{class:$(["text-capitalize",u(xe)]),key:u(R).month,type:"button"},F(e.months[u(R).month]),3)),N(V("select",{"onUpdate:modelValue":k[8]||(k[8]=O=>u(R).month=O),class:$({vdpPeriodControlDisable:e.disablePeriodControl})},[(o(!0),d(X,null,Z(e.months,(O,P)=>(o(),d("option",{value:P,key:O},F(O),9,Gi))),128))],2),[[Qe,u(R).month]])]),V("div",Qi,[(o(),d("button",{class:$(u(xe)),key:u(R).year,type:"button"},F(u(R).year),3)),N(V("select",{"onUpdate:modelValue":k[9]||(k[9]=O=>u(R).year=O),class:$({vdpPeriodControlDisable:e.disablePeriodControl})},[(o(!0),d(X,null,Z(u(wt),O=>(o(),d("option",{value:O,key:O},F(O),9,Xi))),128))],2),[[Qe,u(R).year]])])])]),V("table",Zi,[V("thead",null,[V("tr",null,[(o(!0),d(X,null,Z(u(St),O=>(o(),d("th",{key:O,class:"vdpHeadCell"},[V("span",Ji,F(O),1)]))),128))])]),(o(),d("tbody",{key:u(R).year+"-"+u(R).month,class:$(u(xe))},[(o(!0),d(X,null,Z(u(bt),(O,P)=>(o(),d("tr",{key:P,class:"vdpRow"},[(o(!0),d(X,null,Z(O,x=>(o(),d("td",{class:$([{selectable:!x.disabled,selected:x.selected,disabled:x.disabled,today:x.today,outOfRange:x.outOfRange},"vdpCell"]),"data-id":x.dateKey,key:x.dateKey},[V("div",{onClick:le=>ft(x),class:"vdpCellContent"},F(x.date.getDate()),9,en)],10,_i))),128))]))),128))],2))]),e.pickTime&&u(ee)?(o(),d("div",tn,[V("span",nn,F(e.setTimeCaption),1),V("div",an,[V("pre",null,[V("span",null,F(u(ee).hoursPadded),1),rn]),V("input",{onInput:k[10]||(k[10]=T(O=>Me("setHours",O),["prevent"])),value:u(ee).hoursPadded,type:"number",pattern:"\\d*",class:"vdpHoursInput"},null,40,ln)]),e.pickMinutes?(o(),d("span",sn,":")):w("",!0),e.pickMinutes?(o(),d("div",on,[V("pre",null,[V("span",null,F(u(ee).minutesPadded),1),dn]),e.pickMinutes?(o(),d("input",{key:0,onInput:k[11]||(k[11]=O=>Me("setMinutes",O)),value:u(ee).minutesPadded,type:"number",pattern:"\\d*",class:"vdpMinutesInput"},null,40,un)):w("",!0)])):w("",!0),e.pickSeconds?(o(),d("span",cn,":")):w("",!0),e.pickSeconds?(o(),d("div",hn,[V("pre",null,[V("span",null,F(u(ee).secondsPadded),1),mn]),e.pickSeconds?(o(),d("input",{key:0,onInput:k[12]||(k[12]=O=>Me("setSeconds",O)),value:u(ee).secondsPadded,type:"number",pattern:"\\d*",class:"vdpSecondsInput"},null,40,fn)):w("",!0)])):w("",!0)])):w("",!0)])],34)):w("",!0)]),_:1})],2))}});const yn=["innerHTML","for"],gn=["for","id"],pn={key:0},bn={key:1,class:"custom-html-date date-picker-custom-style"},wn=["placeholder","name"],Sn=["id"],kn={key:3,id:"error-container",class:"error"},Xr=q({__name:"DateElement",props:{kind:{type:String},item:{type:Object},formLabelVisible:{type:Boolean},formFieldsValue:{type:Object},errors:{type:Object,default:()=>({})}},emits:["dateSelected","addOrUpdateError"],setup(e,{expose:i,emit:n}){const t=e,a=A(null),l=Ft(),r=()=>{document.getElementById(`${l}-label`).click()};L(()=>t.kind=="form");const c=L(()=>t.kind=="survey"),m=L(()=>t.errors[t.item.tag]),f=()=>{if(c.value)return;const h=t.formFieldsValue[t.item.tag];if(t.item.required&&J(h))s(t.item.tag,`${t.item.label} is required`);else{if(fi(h)){if(t.item.tag==="date_of_birth"&&!mi(h)){s(t.item.tag,"Date cannot be in the future. Click the year to select a year from the past");return}}else{s(t.item.tag,"Date not in YYYY-MM-DD format");return}s(t.item.tag,null)}},s=(h,v)=>{n("addOrUpdateError",{tag:h,error:v})};return i({validate:f,item:t.item}),(h,v)=>(o(),d("div",{class:$(["form-builder--item",{"d-none":e.item.hidden,"form-builder--item-input":u(c)}])},[u(c)&&e.item.description!==void 0?(o(),d("label",{key:0,innerHTML:e.item.description,class:"item-description",for:u(l)+"-NativeDatePicker"},null,8,yn)):w("",!0),N(V("label",{for:u(l)+"-NativeDatePicker",id:u(l)+"-label"},[H(F(e.item.label)+" ",1),e.item.required?(o(),d("span",pn,"*")):w("",!0)],8,gn),[[ye,e.formLabelVisible]]),u(Re)()&&!u(Lt)()?(o(),d("div",bn,[N(V("input",{type:"text",placeholder:!e.formLabelVisible&&e.item.required?e.item.placeholder+"*":e.item.placeholder,onClick:r,name:e.item.tag,"onUpdate:modelValue":v[0]||(v[0]=b=>e.formFieldsValue[e.item.tag]=b),class:$(["date-picker-custom-style",{"date-picker-field-survey":u(c)}]),readonly:""},null,10,wn),[[oe,e.formFieldsValue[e.item.tag]]]),N(V("input",{type:"date",name:"NativeDatePicker",id:u(l)+"-NativeDatePicker",ref_key:"datePicker",ref:a,"onUpdate:modelValue":v[1]||(v[1]=b=>e.formFieldsValue[e.item.tag]=b),onInput:v[2]||(v[2]=b=>f()),class:"native-picker-style"},null,40,Sn),[[oe,e.formFieldsValue[e.item.tag]]])])):(o(),Q(vn,{key:2,modelValue:e.formFieldsValue[e.item.tag],"onUpdate:modelValue":v[3]||(v[3]=b=>e.formFieldsValue[e.item.tag]=b),format:"YYYY-MM-DD",displayFormat:"YYYY-MM-DD",name:e.item.tag,placeholder:!e.formLabelVisible&&e.item.required?e.item.placeholder+"*":e.item.placeholder,selectableYearRange:100,class:$(["date-picker-custom-style",{"date-picker-field-survey":u(c)}]),"data-q":e.item.hiddenFieldQueryKey,"data-required":e.item.required},null,8,["modelValue","name","placeholder","class","data-q","data-required"])),u(m)?(o(),d("div",kn,F(u(m)),1)):w("",!0)],2))}});function Te(e){return e===0?!1:Array.isArray(e)&&e.length===0?!0:!e}function Vn(e){return(...i)=>!e(...i)}function On(e,i){return e===void 0&&(e="undefined"),e===null&&(e="null"),e===!1&&(e="false"),e.toString().toLowerCase().indexOf(i.trim())!==-1}function ut(e,i,n,t){return i?e.filter(a=>On(t(a,n),i)).sort((a,l)=>t(a,n).length-t(l,n).length):e}function En(e){return e.filter(i=>!i.$isLabel)}function Pe(e,i){return n=>n.reduce((t,a)=>a[e]&&a[e].length?(t.push({$groupLabel:a[i],$isLabel:!0}),t.concat(a[e])):t,[])}function Cn(e,i,n,t,a){return l=>l.map(r=>{if(!r[n])return console.warn("Options passed to vue-multiselect do not contain groups, despite the config."),[];const c=ut(r[n],e,i,a);return c.length?{[t]:r[t],[n]:c}:[]})}const _e=(...e)=>i=>e.reduce((n,t)=>t(n),i);var Fn={data(){return{search:"",isOpen:!1,preferredOpenDirection:"below",optimizedHeight:this.maxHeight}},props:{internalSearch:{type:Boolean,default:!0},options:{type:Array,required:!0},multiple:{type:Boolean,default:!1},trackBy:{type:String},label:{type:String},searchable:{type:Boolean,default:!0},clearOnSelect:{type:Boolean,default:!0},hideSelected:{type:Boolean,default:!1},placeholder:{type:String,default:"Select option"},allowEmpty:{type:Boolean,default:!0},resetAfter:{type:Boolean,default:!1},closeOnSelect:{type:Boolean,default:!0},customLabel:{type:Function,default(e,i){return Te(e)?"":i?e[i]:e}},taggable:{type:Boolean,default:!1},tagPlaceholder:{type:String,default:"Press enter to create a tag"},tagPosition:{type:String,default:"top"},max:{type:[Number,Boolean],default:!1},id:{default:null},optionsLimit:{type:Number,default:1e3},groupValues:{type:String},groupLabel:{type:String},groupSelect:{type:Boolean,default:!1},blockKeys:{type:Array,default(){return[]}},preserveSearch:{type:Boolean,default:!1},preselectFirst:{type:Boolean,default:!1}},mounted(){!this.multiple&&this.max&&console.warn("[Vue-Multiselect warn]: Max prop should not be used when prop Multiple equals false."),this.preselectFirst&&!this.internalValue.length&&this.options.length&&this.select(this.filteredOptions[0])},computed:{internalValue(){return this.modelValue||this.modelValue===0?Array.isArray(this.modelValue)?this.modelValue:[this.modelValue]:[]},filteredOptions(){const e=this.search||"",i=e.toLowerCase().trim();let n=this.options.concat();return this.internalSearch?n=this.groupValues?this.filterAndFlat(n,i,this.label):ut(n,i,this.label,this.customLabel):n=this.groupValues?Pe(this.groupValues,this.groupLabel)(n):n,n=this.hideSelected?n.filter(Vn(this.isSelected)):n,this.taggable&&i.length&&!this.isExistingOption(i)&&(this.tagPosition==="bottom"?n.push({isTag:!0,label:e}):n.unshift({isTag:!0,label:e})),n.slice(0,this.optionsLimit)},valueKeys(){return this.trackBy?this.internalValue.map(e=>e[this.trackBy]):this.internalValue},optionKeys(){return(this.groupValues?this.flatAndStrip(this.options):this.options).map(i=>this.customLabel(i,this.label).toString().toLowerCase())},currentOptionLabel(){return this.multiple?this.searchable?"":this.placeholder:this.internalValue.length?this.getOptionLabel(this.internalValue[0]):this.searchable?"":this.placeholder}},watch:{internalValue(){this.resetAfter&&this.internalValue.length&&(this.search="",this.$emit("update:modelValue",this.multiple?[]:null))},search(){this.$emit("search-change",this.search)}},emits:["open","search-change","close","select","update:modelValue","remove","tag"],methods:{getValue(){return this.multiple?this.internalValue:this.internalValue.length===0?null:this.internalValue[0]},filterAndFlat(e,i,n){return _e(Cn(i,n,this.groupValues,this.groupLabel,this.customLabel),Pe(this.groupValues,this.groupLabel))(e)},flatAndStrip(e){return _e(Pe(this.groupValues,this.groupLabel),En)(e)},updateSearch(e){this.search=e},isExistingOption(e){return this.options?this.optionKeys.indexOf(e)>-1:!1},isSelected(e){const i=this.trackBy?e[this.trackBy]:e;return this.valueKeys.indexOf(i)>-1},isOptionDisabled(e){return!!e.$isDisabled},getOptionLabel(e){if(Te(e))return"";if(e.isTag)return e.label;if(e.$isLabel)return e.$groupLabel;const i=this.customLabel(e,this.label);return Te(i)?"":i},select(e,i){if(e.$isLabel&&this.groupSelect){this.selectGroup(e);return}if(!(this.blockKeys.indexOf(i)!==-1||this.disabled||e.$isDisabled||e.$isLabel)&&!(this.max&&this.multiple&&this.internalValue.length===this.max)&&!(i==="Tab"&&!this.pointerDirty)){if(e.isTag)this.$emit("tag",e.label,this.id),this.search="",this.closeOnSelect&&!this.multiple&&this.deactivate();else{if(this.isSelected(e)){i!=="Tab"&&this.removeElement(e);return}this.$emit("select",e,this.id),this.multiple?this.$emit("update:modelValue",this.internalValue.concat([e])):this.$emit("update:modelValue",e),this.clearOnSelect&&(this.search="")}this.closeOnSelect&&this.deactivate()}},selectGroup(e){const i=this.options.find(n=>n[this.groupLabel]===e.$groupLabel);if(!!i){if(this.wholeGroupSelected(i)){this.$emit("remove",i[this.groupValues],this.id);const n=this.internalValue.filter(t=>i[this.groupValues].indexOf(t)===-1);this.$emit("update:modelValue",n)}else{const n=i[this.groupValues].filter(t=>!(this.isOptionDisabled(t)||this.isSelected(t)));this.$emit("select",n,this.id),this.$emit("update:modelValue",this.internalValue.concat(n))}this.closeOnSelect&&this.deactivate()}},wholeGroupSelected(e){return e[this.groupValues].every(i=>this.isSelected(i)||this.isOptionDisabled(i))},wholeGroupDisabled(e){return e[this.groupValues].every(this.isOptionDisabled)},removeElement(e,i=!0){if(this.disabled||e.$isDisabled)return;if(!this.allowEmpty&&this.internalValue.length<=1){this.deactivate();return}const n=typeof e=="object"?this.valueKeys.indexOf(e[this.trackBy]):this.valueKeys.indexOf(e);if(this.$emit("remove",e,this.id),this.multiple){const t=this.internalValue.slice(0,n).concat(this.internalValue.slice(n+1));this.$emit("update:modelValue",t)}else this.$emit("update:modelValue",null);this.closeOnSelect&&i&&this.deactivate()},removeLastElement(){this.blockKeys.indexOf("Delete")===-1&&this.search.length===0&&Array.isArray(this.internalValue)&&this.internalValue.length&&this.removeElement(this.internalValue[this.internalValue.length-1],!1)},activate(){this.isOpen||this.disabled||(this.adjustPosition(),this.groupValues&&this.pointer===0&&this.filteredOptions.length&&(this.pointer=1),this.isOpen=!0,this.searchable?(this.preserveSearch||(this.search=""),this.$nextTick(()=>this.$refs.search&&this.$refs.search.focus())):this.$el.focus(),this.$emit("open",this.id))},deactivate(){!this.isOpen||(this.isOpen=!1,this.searchable?this.$refs.search&&this.$refs.search.blur():this.$el.blur(),this.preserveSearch||(this.search=""),this.$emit("close",this.getValue(),this.id))},toggle(){this.isOpen?this.deactivate():this.activate()},adjustPosition(){if(typeof window>"u")return;const e=this.$el.getBoundingClientRect().top,i=window.innerHeight-this.$el.getBoundingClientRect().bottom;i>this.maxHeight||i>e||this.openDirection==="below"||this.openDirection==="bottom"?(this.preferredOpenDirection="below",this.optimizedHeight=Math.min(i-40,this.maxHeight)):(this.preferredOpenDirection="above",this.optimizedHeight=Math.min(e-40,this.maxHeight))}}},Ln={data(){return{pointer:0,pointerDirty:!1}},props:{showPointer:{type:Boolean,default:!0},optionHeight:{type:Number,default:40}},computed:{pointerPosition(){return this.pointer*this.optionHeight},visibleElements(){return this.optimizedHeight/this.optionHeight}},watch:{filteredOptions(){this.pointerAdjust()},isOpen(){this.pointerDirty=!1},pointer(){this.$refs.search&&this.$refs.search.setAttribute("aria-activedescendant",this.id+"-"+this.pointer.toString())}},methods:{optionHighlight(e,i){return{"multiselect__option--highlight":e===this.pointer&&this.showPointer,"multiselect__option--selected":this.isSelected(i)}},groupHighlight(e,i){if(!this.groupSelect)return["multiselect__option--disabled",{"multiselect__option--group":i.$isLabel}];const n=this.options.find(t=>t[this.groupLabel]===i.$groupLabel);return n&&!this.wholeGroupDisabled(n)?["multiselect__option--group",{"multiselect__option--highlight":e===this.pointer&&this.showPointer},{"multiselect__option--group-selected":this.wholeGroupSelected(n)}]:"multiselect__option--disabled"},addPointerElement({key:e}="Enter"){this.filteredOptions.length>0&&this.select(this.filteredOptions[this.pointer],e),this.pointerReset()},pointerForward(){this.pointer<this.filteredOptions.length-1&&(this.pointer++,this.$refs.list.scrollTop<=this.pointerPosition-(this.visibleElements-1)*this.optionHeight&&(this.$refs.list.scrollTop=this.pointerPosition-(this.visibleElements-1)*this.optionHeight),this.filteredOptions[this.pointer]&&this.filteredOptions[this.pointer].$isLabel&&!this.groupSelect&&this.pointerForward()),this.pointerDirty=!0},pointerBackward(){this.pointer>0?(this.pointer--,this.$refs.list.scrollTop>=this.pointerPosition&&(this.$refs.list.scrollTop=this.pointerPosition),this.filteredOptions[this.pointer]&&this.filteredOptions[this.pointer].$isLabel&&!this.groupSelect&&this.pointerBackward()):this.filteredOptions[this.pointer]&&this.filteredOptions[0].$isLabel&&!this.groupSelect&&this.pointerForward(),this.pointerDirty=!0},pointerReset(){!this.closeOnSelect||(this.pointer=0,this.$refs.list&&(this.$refs.list.scrollTop=0))},pointerAdjust(){this.pointer>=this.filteredOptions.length-1&&(this.pointer=this.filteredOptions.length?this.filteredOptions.length-1:0),this.filteredOptions.length>0&&this.filteredOptions[this.pointer].$isLabel&&!this.groupSelect&&this.pointerForward()},pointerSet(e){this.pointer=e,this.pointerDirty=!0}}},Ne={name:"vue-multiselect",mixins:[Fn,Ln],props:{name:{type:String,default:""},modelValue:{type:null,default(){return[]}},selectLabel:{type:String,default:"Press enter to select"},selectGroupLabel:{type:String,default:"Press enter to select group"},selectedLabel:{type:String,default:"Selected"},deselectLabel:{type:String,default:"Press enter to remove"},deselectGroupLabel:{type:String,default:"Press enter to deselect group"},showLabels:{type:Boolean,default:!0},limit:{type:Number,default:99999},maxHeight:{type:Number,default:300},limitText:{type:Function,default:e=>`and ${e} more`},loading:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},openDirection:{type:String,default:""},showNoOptions:{type:Boolean,default:!0},showNoResults:{type:Boolean,default:!0},tabindex:{type:Number,default:0}},computed:{isSingleLabelVisible(){return(this.singleValue||this.singleValue===0)&&(!this.isOpen||!this.searchable)&&!this.visibleValues.length},isPlaceholderVisible(){return!this.internalValue.length&&(!this.searchable||!this.isOpen)},visibleValues(){return this.multiple?this.internalValue.slice(0,this.limit):[]},singleValue(){return this.internalValue[0]},deselectLabelText(){return this.showLabels?this.deselectLabel:""},deselectGroupLabelText(){return this.showLabels?this.deselectGroupLabel:""},selectLabelText(){return this.showLabels?this.selectLabel:""},selectGroupLabelText(){return this.showLabels?this.selectGroupLabel:""},selectedLabelText(){return this.showLabels?this.selectedLabel:""},inputStyle(){return this.searchable||this.multiple&&this.modelValue&&this.modelValue.length?this.isOpen?{width:"100%"}:{width:"0",position:"absolute",padding:"0"}:""},contentStyle(){return this.options.length?{display:"inline-block"}:{display:"block"}},isAbove(){return this.openDirection==="above"||this.openDirection==="top"?!0:this.openDirection==="below"||this.openDirection==="bottom"?!1:this.preferredOpenDirection==="above"},showSearchInput(){return this.searchable&&(this.hasSingleSelectedSlot&&(this.visibleSingleValue||this.visibleSingleValue===0)?this.isOpen:!0)}}};const An={ref:"tags",class:"multiselect__tags"},Mn={class:"multiselect__tags-wrap"},$n={class:"multiselect__spinner"},xn={key:0},Tn={class:"multiselect__option"},Pn={class:"multiselect__option"},Dn=H("No elements found. Consider changing the search query."),In={class:"multiselect__option"},Bn=H("List is empty.");function qn(e,i,n,t,a,l){return o(),Q("div",{tabindex:e.searchable?-1:n.tabindex,class:[{"multiselect--active":e.isOpen,"multiselect--disabled":n.disabled,"multiselect--above":l.isAbove},"multiselect"],onFocus:i[14]||(i[14]=r=>e.activate()),onBlur:i[15]||(i[15]=r=>e.searchable?!1:e.deactivate()),onKeydown:[i[16]||(i[16]=W(T(r=>e.pointerForward(),["self","prevent"]),["down"])),i[17]||(i[17]=W(T(r=>e.pointerBackward(),["self","prevent"]),["up"]))],onKeypress:i[18]||(i[18]=W(T(r=>e.addPointerElement(r),["stop","self"]),["enter","tab"])),onKeyup:i[19]||(i[19]=W(r=>e.deactivate(),["esc"])),role:"combobox","aria-owns":"listbox-"+e.id},[z(e.$slots,"caret",{toggle:e.toggle},()=>[j("div",{onMousedown:i[1]||(i[1]=T(r=>e.toggle(),["prevent","stop"])),class:"multiselect__select"},null,32)]),z(e.$slots,"clear",{search:e.search}),j("div",An,[z(e.$slots,"selection",{search:e.search,remove:e.removeElement,values:l.visibleValues,isOpen:e.isOpen},()=>[N(j("div",Mn,[(o(!0),Q(X,null,Z(l.visibleValues,(r,c)=>z(e.$slots,"tag",{option:r,search:e.search,remove:e.removeElement},()=>[(o(),Q("span",{class:"multiselect__tag",key:c},[j("span",{textContent:F(e.getOptionLabel(r))},null,8,["textContent"]),j("i",{tabindex:"1",onKeypress:W(T(m=>e.removeElement(r),["prevent"]),["enter"]),onMousedown:T(m=>e.removeElement(r),["prevent"]),class:"multiselect__tag-icon"},null,40,["onKeypress","onMousedown"])]))])),256))],512),[[ye,l.visibleValues.length>0]]),e.internalValue&&e.internalValue.length>n.limit?z(e.$slots,"limit",{key:0},()=>[j("strong",{class:"multiselect__strong",textContent:F(n.limitText(e.internalValue.length-n.limit))},null,8,["textContent"])]):w("v-if",!0)]),j(De,{name:"multiselect__loading"},{default:Fe(()=>[z(e.$slots,"loading",{},()=>[N(j("div",$n,null,512),[[ye,n.loading]])])]),_:3}),e.searchable?(o(),Q("input",{key:0,ref:"search",name:n.name,id:e.id,type:"text",autocomplete:"off",spellcheck:"false",placeholder:e.placeholder,style:l.inputStyle,value:e.search,disabled:n.disabled,tabindex:n.tabindex,onInput:i[2]||(i[2]=r=>e.updateSearch(r.target.value)),onFocus:i[3]||(i[3]=T(r=>e.activate(),["prevent"])),onBlur:i[4]||(i[4]=T(r=>e.deactivate(),["prevent"])),onKeyup:i[5]||(i[5]=W(r=>e.deactivate(),["esc"])),onKeydown:[i[6]||(i[6]=W(T(r=>e.pointerForward(),["prevent"]),["down"])),i[7]||(i[7]=W(T(r=>e.pointerBackward(),["prevent"]),["up"])),i[9]||(i[9]=W(T(r=>e.removeLastElement(),["stop"]),["delete"]))],onKeypress:i[8]||(i[8]=W(T(r=>e.addPointerElement(r),["prevent","stop","self"]),["enter"])),class:"multiselect__input","aria-controls":"listbox-"+e.id},null,44,["name","id","placeholder","value","disabled","tabindex","aria-controls"])):w("v-if",!0),l.isSingleLabelVisible?(o(),Q("span",{key:1,class:"multiselect__single",onMousedown:i[10]||(i[10]=T((...r)=>e.toggle&&e.toggle(...r),["prevent"]))},[z(e.$slots,"singleLabel",{option:l.singleValue},()=>[H(F(e.currentOptionLabel),1)])],32)):w("v-if",!0),l.isPlaceholderVisible?(o(),Q("span",{key:2,class:"multiselect__placeholder",onMousedown:i[11]||(i[11]=T((...r)=>e.toggle&&e.toggle(...r),["prevent"]))},[z(e.$slots,"placeholder",{},()=>[H(F(e.placeholder),1)])],32)):w("v-if",!0)],512),j(De,{name:"multiselect"},{default:Fe(()=>[N(j("div",{class:"multiselect__content-wrapper",onFocus:i[12]||(i[12]=(...r)=>e.activate&&e.activate(...r)),tabindex:"-1",onMousedown:i[13]||(i[13]=T(()=>{},["prevent"])),style:{maxHeight:e.optimizedHeight+"px"},ref:"list"},[j("ul",{class:"multiselect__content",style:l.contentStyle,role:"listbox",id:"listbox-"+e.id},[z(e.$slots,"beforeList"),e.multiple&&e.max===e.internalValue.length?(o(),Q("li",xn,[j("span",Tn,[z(e.$slots,"maxElements",{},()=>[H("Maximum of "+F(e.max)+" options selected. First remove a selected option to select another.",1)])])])):w("v-if",!0),!e.max||e.internalValue.length<e.max?(o(!0),Q(X,{key:1},Z(e.filteredOptions,(r,c)=>(o(),Q("li",{class:"multiselect__element",key:c,id:e.id+"-"+c,role:r&&(r.$isLabel||r.$isDisabled)?null:"option"},[r&&(r.$isLabel||r.$isDisabled)?w("v-if",!0):(o(),Q("span",{key:0,class:[e.optionHighlight(c,r),"multiselect__option"],onClick:T(m=>e.select(r),["stop"]),onMouseenter:T(m=>e.pointerSet(c),["self"]),"data-select":r&&r.isTag?e.tagPlaceholder:l.selectLabelText,"data-selected":l.selectedLabelText,"data-deselect":l.deselectLabelText},[z(e.$slots,"option",{option:r,search:e.search,index:c},()=>[j("span",null,F(e.getOptionLabel(r)),1)])],42,["onClick","onMouseenter","data-select","data-selected","data-deselect"])),r&&(r.$isLabel||r.$isDisabled)?(o(),Q("span",{key:1,"data-select":e.groupSelect&&l.selectGroupLabelText,"data-deselect":e.groupSelect&&l.deselectGroupLabelText,class:[e.groupHighlight(c,r),"multiselect__option"],onMouseenter:T(m=>e.groupSelect&&e.pointerSet(c),["self"]),onMousedown:T(m=>e.selectGroup(r),["prevent"])},[z(e.$slots,"option",{option:r,search:e.search,index:c},()=>[j("span",null,F(e.getOptionLabel(r)),1)])],42,["data-select","data-deselect","onMouseenter","onMousedown"])):w("v-if",!0)],8,["id","role"]))),128)):w("v-if",!0),N(j("li",null,[j("span",Pn,[z(e.$slots,"noResult",{search:e.search},()=>[Dn])])],512),[[ye,n.showNoResults&&e.filteredOptions.length===0&&e.search&&!n.loading]]),N(j("li",null,[j("span",In,[z(e.$slots,"noOptions",{},()=>[Bn])])],512),[[ye,n.showNoOptions&&e.options.length===0&&!e.search&&!n.loading]]),z(e.$slots,"afterList")],12,["id"])],36),[[ye,e.isOpen]])]),_:3})],42,["tabindex","aria-owns"])}Ne.render=qn;const Rn=["innerHTML"],jn={key:1},Un={key:0},Hn={key:2,id:"error-container",class:"error"},Zr=q({__name:"OptionElement",props:{kind:{type:String},item:{type:Object},formLabelVisible:{type:Boolean},formFieldsValue:{type:Object},errors:{type:Object,default:()=>({})}},emits:["addOrUpdateError","handleFieldLogicChange"],setup(e,{expose:i,emit:n}){const t=e,a=A(),l=L(()=>t.kind=="survey"),r=L(()=>t.errors[t.item.tag]),c=L(()=>t.item.type==="single_options"),m=L(()=>t.item.type==="multiple_options"),f=(v,b)=>{a.value=v,l.value&&c.value&&n("handleFieldLogicChange",{...b,selectedOption:v})},s=()=>{if(l.value)return;const v=a.value;let b;c.value?b=J(v):m.value&&(b=v?!v.length:!0),t.item.required&&b?h(t.item.tag,`${t.item.label} is required`):h(t.item.tag,null)},h=(v,b)=>{n("addOrUpdateError",{tag:v,error:b})};return i({validate:s,item:t.item}),(v,b)=>(o(),d("div",{class:$(["form-builder--item",{"d-none":e.item.hidden,"form-builder--item-input":u(l)}])},[u(l)&&e.item.description!==void 0?(o(),d("label",{key:0,innerHTML:e.item.description,class:"item-description"},null,8,Rn)):w("",!0),e.formLabelVisible?(o(),d("label",jn,[H(F(e.item.label)+" ",1),e.item.required?(o(),d("span",Un,"*")):w("",!0)])):w("",!0),j(u(Ne),{modelValue:e.formFieldsValue[e.item.tag],"onUpdate:modelValue":b[0]||(b[0]=C=>e.formFieldsValue[e.item.tag]=C),placeholder:!e.formLabelVisible&&e.item.required?e.item.placeholder+"*":e.item.placeholder,name:e.item.tag,options:e.item.picklistOptions,allowEmpty:!u(c),multiple:!!u(m),"show-labels":!1,closeOnSelect:!0,class:"multi_select_form",onSelect:b[1]||(b[1]=C=>{f(C,e.item)}),searchable:!u(Re)()},null,8,["modelValue","placeholder","name","options","allowEmpty","multiple","searchable"]),u(r)?(o(),d("div",Hn,F(u(r)),1)):w("",!0)],2))}});const Nn={key:0},Kn={key:0},Wn={key:1,id:"error-container",class:"error"},Jr=q({__name:"CountryOptionElement",props:{kind:{type:String},item:{type:Object},formLabelVisible:{type:Boolean},formattedCountry:{type:String},countries:{type:Array},errors:{type:Object,default:()=>({})}},emits:["addOrUpdateError","updateFormattedCountry"],setup(e,{expose:i,emit:n}){const t=e,a=L(()=>t.kind=="survey"),l=L(()=>t.errors[t.item.tag]),r=L({get:()=>t.formattedCountry,set:f=>{c(f),n("updateFormattedCountry",f)}}),c=f=>{let s;f?s=f:s=r.value,t.item.required&&J(s)?m(t.item.tag,`${t.item.label} is required`):m(t.item.tag,null)},m=(f,s)=>{n("addOrUpdateError",{tag:f,error:s})};return i({validate:c,item:t.item}),(f,s)=>(o(),d("div",{class:$(["form-builder--item",{"d-none":e.item.hidden,"form-builder--item-input":u(a)}])},[e.formLabelVisible?(o(),d("label",Nn,[H(F(e.item.label)+" ",1),e.item.required?(o(),d("span",Kn,"*")):w("",!0)])):w("",!0),j(u(Ne),{modelValue:u(r),"onUpdate:modelValue":s[0]||(s[0]=h=>Dt(r)?r.value=h:null),placeholder:!e.formLabelVisible&&e.item.required?e.item.placeholder+"*":e.item.placeholder,name:e.item.tag,options:e.countries,allowEmpty:!1,"show-labels":!1,closeOnSelect:!0,class:"multi_select_form",searchable:!u(Re)()},null,8,["modelValue","placeholder","name","options","searchable"]),u(l)?(o(),d("div",Wn,F(u(l)),1)):w("",!0)],2))}}),Yn={class:"option-radio-image"},zn=["innerHTML"],Gn={key:1},Qn={key:0},Xn={key:0},Zn=["id","name","value","data-q","data-required"],Jn={class:"radio-image-option-set"},_n=["for"],ea={class:"opt-container-img-label"},ta=["src"],ia={class:"img-opt-title"},na={key:0,id:"error-container",class:"error"},_r=q({__name:"RadioImageOptionElement",props:{kind:{type:String},item:{type:Object},formLabelVisible:{type:Boolean},formFieldsValue:{type:Object},localTagId:{type:String},errors:{type:Object,default:()=>({})}},emits:["addOrUpdateError","handleFieldLogicChange","isSlideMovable"],setup(e,{expose:i,emit:n}){const t=e,a=L(()=>t.kind=="form"),l=L(()=>t.kind=="survey"),r=L(()=>t.errors[t.item.tag]),c=s=>{l.value&&n("handleFieldLogicChange",s)},m=()=>{if(l.value)return;const s=t.formFieldsValue[t.item.tag];t.item.required&&J(s)?f(t.item.tag,`${t.item.label} is required`):f(t.item.tag,null)},f=(s,h)=>{n("addOrUpdateError",{tag:s,error:h})};return i({validate:m,item:t.item}),(s,h)=>(o(),d("div",Yn,[V("div",{class:$(["form-builder--item",{"d-none":e.item.hidden,"form-builder--item-input":u(l)}])},[u(l)&&e.item.description!==void 0?(o(),d("label",{key:0,innerHTML:e.item.description,class:"item-description"},null,8,zn)):w("",!0),e.formLabelVisible?(o(),d("label",Gn,[H(F(e.item.label)+" ",1),e.item.required?(o(),d("span",Qn,"*")):w("",!0)])):w("",!0)],2),V("div",{class:$(["row container-group-image p-0",{"form-builder--item":u(a)}])},[(o(!0),d(X,null,Z(e.item.picklistOptionsImage,(v,b)=>(o(),d("div",{key:b,class:"option-radio col-md-3 col-sm-6 col-6 px-2"},[v!==""?(o(),d("div",Xn,[N(V("input",{id:v.label+"_"+e.item.tag+"_"+b+"_"+e.localTagId,"onUpdate:modelValue":h[0]||(h[0]=C=>e.formFieldsValue[e.item.tag]=C),name:e.item.tag,value:v.label,onChange:h[1]||(h[1]=C=>c(e.item)),type:"radio","data-q":e.item.hiddenFieldQueryKey,"data-required":e.item.required},null,40,Zn),[[at,e.formFieldsValue[e.item.tag]]]),V("div",Jn,[V("label",{for:v.label+"_"+e.item.tag+"_"+b+"_"+e.localTagId,class:"pl-0"},[V("div",ea,[V("img",{src:v.src,class:"radio-image-option-set-image py-2"},null,8,ta)])],8,_n),V("div",ia,F(v.label),1)])])):w("",!0)]))),128)),u(r)?(o(),d("div",na,F(u(r)),1)):w("",!0)],2)]))}});const aa=["innerHTML"],ra={key:1},la={key:0},sa={key:0,style:{display:"flex","align-items":"center","margin-bottom":"5px"}},oa=["id","value","checked","data-q","data-required"],da=["for"],ua={key:2,class:"option-radio"},ca=["id","value"],ha=["id","for"],ma=["for"],fa={key:3,id:"error-container",class:"error"},el=q({__name:"RadioOptionElement",props:{kind:{type:String},item:{type:Object},formLabelVisible:{type:Boolean},formFieldsValue:{type:Object},localTagId:{type:String},errors:{type:Object,default:()=>({})}},emits:["addOrUpdateError","handleFieldLogicChange","resetFieldsValue","setRadioValue"],setup(e,{expose:i,emit:n}){const t=e;L(()=>t.kind=="form");const a=L(()=>t.kind=="survey"),l=L(()=>t.errors[t.item.tag]),r=A(),c=C=>{a.value&&n("handleFieldLogicChange",C)},m=C=>{n("resetFieldsValue",C)},f=(C,p)=>{n("setRadioValue",{item:C,event:p})},s=(C,p)=>{r.value.checked=!0,f(C,p)},h=()=>{r.value&&(r.value.checked=!1)},v=()=>{if(a.value)return;const C=t.formFieldsValue[t.item.tag];t.item.required&&J(C)?b(t.item.tag,`${t.item.label} is required`):b(t.item.tag,null)},b=(C,p)=>{n("addOrUpdateError",{tag:C,error:p})};return i({validate:v,item:t.item}),(C,p)=>(o(),d("div",{class:$(["form-builder--item",{"d-none":e.item.hidden,"form-builder--item-input":u(a)}])},[u(a)&&e.item.description!==void 0?(o(),d("label",{key:0,innerHTML:e.item.description,class:"item-description"},null,8,aa)):w("",!0),e.formLabelVisible?(o(),d("label",ra,[H(F(e.item.label)+" ",1),e.item.required?(o(),d("span",la,"*")):w("",!0)])):w("",!0),(o(!0),d(X,null,Z(e.item.picklistOptions,(g,S)=>(o(),d("div",{key:S,class:"option-radio"},[g!==""?(o(),d("div",sa,[N(V("input",{id:g+"_"+e.item.tag+"_"+S+"_"+e.localTagId,"onUpdate:modelValue":p[0]||(p[0]=E=>e.formFieldsValue[e.item.tag]=E),value:g,checked:e.formFieldsValue[e.item.tag]==g,onChange:p[1]||(p[1]=E=>(c(e.item),h())),type:"radio","data-q":e.item.hiddenFieldQueryKey,"data-required":e.item.required},null,40,oa),[[at,e.formFieldsValue[e.item.tag]]]),V("label",{style:{"margin-left":"10px","margin-bottom":"0"},for:g+"_"+e.item.tag+"_"+S+"_"+e.localTagId},F(g),9,da)])):w("",!0)]))),128)),e.item.allowCustomOption?(o(),d("div",ua,[V("input",{ref:g=>r.value=g,id:e.item.tag+"_customfieldvals_"+e.localTagId,value:e.formFieldsValue[e.item.tag],onChange:p[2]||(p[2]=g=>m(e.item)),type:"radio"},null,40,ca),V("label",{id:e.item.tag+"_customfieldvals_label",for:e.item.tag+"_customfieldvals_"+e.localTagId},null,8,ha),V("input",{for:e.item.tag+"_customfieldvals_label_"+e.localTagId,onFocus:p[3]||(p[3]=g=>s(e.item,g)),onInput:p[4]||(p[4]=g=>f(e.item,g)),onKeydown:p[5]||(p[5]=W(T(g=>c(e.item),["prevent"]),["enter"])),type:"text",placeholder:"Press enter to add custom option",class:"add-custom-opt"},null,40,ma)])):w("",!0),u(l)?(o(),d("div",fa,F(u(l)),1)):w("",!0)],2))}});const va=["innerHTML"],ya={key:1},ga={key:0},pa=["id","value","name","checked","onChange","data-q","data-required"],ba=["for"],wa={key:2,id:"error-container",class:"error"},tl=q({__name:"CheckBoxElement",props:{kind:{type:String},item:{type:Object},formLabelVisible:{type:Boolean},formFieldsValue:{type:Object},localTagId:{type:String},errors:{type:Object,default:()=>({})}},emits:["addOrUpdateError","handleCheckBox","updateFormFieldsValue"],setup(e,{expose:i,emit:n}){const t=e,a=L(()=>t.kind=="form"),l=L(()=>t.kind=="survey"),r=L(()=>t.errors[t.item.tag]),c=A([]),m=(h,v)=>{const b=c.value[h].value,C=c.value[h].checked;if(l.value)n("handleCheckBox",{item:v,index:h,checkVal:b,isChecked:C});else if(C){const p=t.formFieldsValue[v.tag]?t.formFieldsValue[v.tag]:[];n("updateFormFieldsValue",{tag:v.tag,value:[...p,b]})}else{const p=t.formFieldsValue[v.tag].filter(g=>g!==b);n("updateFormFieldsValue",{tag:v.tag,value:p})}},f=()=>{if(l.value)return;const h=t.formFieldsValue[t.item.tag];t.item.required&&!(h!=null&&h.length)?s(t.item.tag,"Please choose at least one option"):s(t.item.tag,null)},s=(h,v)=>{n("addOrUpdateError",{tag:h,error:v})};return i({validate:f,item:t.item}),(h,v)=>(o(),d("div",{class:$(["form-builder--item",{"d-none":e.item.hidden,"form-builder--item-input":u(l)}])},[u(l)&&e.item.description!==void 0?(o(),d("label",{key:0,innerHTML:e.item.description,class:"item-description"},null,8,va)):w("",!0),e.formLabelVisible?(o(),d("label",ya,[H(F(e.item.label)+" ",1),e.item.required?(o(),d("span",ga,"*")):w("",!0)])):w("",!0),(o(!0),d(X,null,Z(e.item.picklistOptions,(b,C)=>(o(),d("div",{key:C,class:"in-r-c"},[V("input",{id:b+"_"+e.item.tag+"_"+C+"_"+e.localTagId,ref_for:!0,ref:p=>u(c)[C]=p,value:b,name:u(a)?e.item.tag:b,checked:e.formFieldsValue[e.item.tag]!=null&&e.formFieldsValue[e.item.tag].indexOf(b)>=0,onChange:p=>m(C,e.item),type:"checkbox","data-q":e.item.hiddenFieldQueryKey,"data-required":e.item.required},null,40,pa),V("label",{style:{"margin-left":"10px"},for:b+"_"+e.item.tag+"_"+C+"_"+e.localTagId},F(b),9,ba)]))),128)),u(r)?(o(),d("div",wa,F(u(r)),1)):w("",!0)],2))}});const Sa=["innerHTML"],ka={key:1},Va={key:0},Oa={class:"input-group"},Ea={class:"input-group-prepend"},Ca={class:"input-group-text"},Fa=["placeholder","name","data-q","data-required"],La={key:2,id:"error-container",class:"error"},il=q({__name:"MonetaryElement",props:{kind:{type:String},item:{type:Object},formLabelVisible:{type:Boolean},formFieldsValue:{type:Object},localeCurrency:{type:Object},errors:{type:Object,default:()=>({})}},emits:["addOrUpdateError","isSlideMovable","updateFormFieldsValue"],setup(e,{expose:i,emit:n}){const t=e;L(()=>t.kind=="form");const a=L(()=>t.kind=="survey"),l=L(()=>t.errors[t.item.tag]),r=A(),c=s=>{a.value&&n("isSlideMovable",s)},m=()=>{var h;let s=(h=t.formFieldsValue[t.item.tag])==null?void 0:h.replaceAll(",","");s&&isNaN(s)?f(t.item.tag,"Invalid Monetory format!"):t.item.required&&J(s)?f(t.item.tag,`${t.item.label} is required`):(f(t.item.tag,null),!isNaN(s)&&s!==""&&(s=parseFloat(s).toFixed(2).toString()),n("updateFormFieldsValue",{tag:t.item.tag,value:s}))},f=(s,h)=>{n("addOrUpdateError",{tag:s,error:h})};return i({validate:m,item:t.item}),(s,h)=>(o(),d("div",{class:$(["form-builder--item",{"d-none":e.item.hidden,"form-builder--item-input":u(a)}])},[u(a)&&e.item.description!==void 0?(o(),d("label",{key:0,innerHTML:e.item.description,class:"item-description"},null,8,Sa)):w("",!0),e.formLabelVisible?(o(),d("label",ka,[H(F(e.item.label)+" ",1),e.item.required?(o(),d("span",Va,"*")):w("",!0)])):w("",!0),V("div",Oa,[V("div",Ea,[V("span",Ca,F(e.localeCurrency.currency.symbol),1)]),N(V("input",{ref:v=>r.value=v,placeholder:!e.formLabelVisible&&e.item.required?e.item.placeholder+"*":e.item.placeholder,name:e.item.tag,"onUpdate:modelValue":h[0]||(h[0]=v=>e.formFieldsValue[e.item.tag]=v),onKeydown:h[1]||(h[1]=W(T(v=>c({}),["prevent"]),["enter"])),type:"text",class:"form-control","data-q":e.item.hiddenFieldQueryKey,"data-required":e.item.required},null,40,Fa),[[oe,e.formFieldsValue[e.item.tag]]])]),u(l)?(o(),d("div",La,F(u(l)),1)):w("",!0)],2))}});function qe(){return qe=Object.assign?Object.assign.bind():function(e){for(var i=1;i<arguments.length;i++){var n=arguments[i];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e},qe.apply(this,arguments)}var Aa=function(){var i=!1,n=[],t=function(){if(!i){i=!0;for(var c=0,m=n.length;c<m;c++)n[c]()}},a=function(c){if(!i){n.push(c);return}c()},l={resolved:function(){return i},resolve:t,promise:{then:a}};return l},et=Object.prototype.hasOwnProperty;function Ma(){var e=Aa();return{notify:function(){e.resolve()},wait:function(){return e.promise},render:function(n,t,a){this.wait().then(function(){a(window.grecaptcha.render(n,t))})},reset:function(n){typeof n>"u"||(this.assertLoaded(),this.wait().then(function(){return window.grecaptcha.reset(n)}))},execute:function(n){typeof n>"u"||(this.assertLoaded(),this.wait().then(function(){return window.grecaptcha.execute(n)}))},checkRecaptchaLoad:function(){et.call(window,"grecaptcha")&&et.call(window.grecaptcha,"render")&&this.notify()},assertLoaded:function(){if(!e.resolved())throw new Error("ReCAPTCHA has not been loaded")}}}var we=Ma();typeof window<"u"&&(window.vueRecaptchaApiLoaded=we.notify);var $a=q({name:"VueRecaptcha",props:{sitekey:{type:String,required:!0},theme:{type:String},badge:{type:String},type:{type:String},size:{type:String},tabindex:{type:String},loadRecaptchaScript:{type:Boolean,default:!0},recaptchaScriptId:{type:String,default:"__RECAPTCHA_SCRIPT"},recaptchaHost:{type:String,default:"www.google.com"},language:{type:String,default:""}},emits:["render","verify","expired","error"],setup:function(i,n){var t=n.slots,a=n.emit,l=A(null),r=A(null),c=function(h){a("verify",h)},m=function(){a("expired")},f=function(){a("error")};return he(function(){if(we.checkRecaptchaLoad(),i.loadRecaptchaScript&&!document.getElementById(i.recaptchaScriptId)){var s=document.createElement("script");s.id=i.recaptchaScriptId,s.src="https://"+i.recaptchaHost+"/recaptcha/api.js?onload=vueRecaptchaApiLoaded&render=explicit&hl="+i.language,s.async=!0,s.defer=!0,document.head.appendChild(s)}var h=qe({},i,{callback:c,"expired-callback":m,"error-callback":f}),v=l.value,b=t.default?v.children[0]:v;we.render(b,h,function(C){r.value=C,a("render",C)})}),{root:l,widgetId:r,reset:function(){we.reset(r.value)},execute:function(){we.execute(r.value)}}},render:function(){var i=this.$slots.default,n;return typeof i=="function"?n=i():n=i,It("div",{ref:"root"},n)}});const xa=q({__name:"Recaptcha",emits:["verify","expired"],setup(e,{emit:i}){Ue({script:[{src:"https://www.google.com/recaptcha/api.js?onload=vueRecaptchaApiLoaded&render=explicit",async:!0,type:"text/javascript"}]});const n=a=>{i("verify",a)},t=a=>{i("expired",a)};return(a,l)=>(o(),Q(u($a),{onExpired:t,onVerify:n,sitekey:"6LfcbMseAAAAAI-EJoB-lUh7_TJaYloLbcbmnhEO"}))}}),Ta={key:0},Pa={key:0},Da=["id","value"],Ia={key:1,class:"error"},nl=q({__name:"CaptchaElement",props:{kind:{type:String},item:{type:Object},formLabelVisible:{type:Boolean},surveyFieldValidate:{type:Array},validationError:{type:Object},captchaInputValue:{type:String},localTagId:{type:String}},emits:["updateCaptchaToken","updateValidationError","updateIsCaptchaVerified"],setup(e,{expose:i,emit:n}){const t=e,a=L(()=>t.kind=="form"),l=L(()=>t.kind=="survey"),r=A(),c=v=>{if(!!v){if(a.value)r.value&&(r.value.value="1",f({})),s("1");else{s(!0);const b=t.surveyFieldValidate.findIndex(C=>C.type==="captcha");b!==-1&&t.surveyFieldValidate.splice(b,1)}h(v)}},m=()=>{a.value?(s("0"),f({captcha:"Verification expired"})):s(!1)},f=v=>{n("updateValidationError",v)},s=v=>{n("updateIsCaptchaVerified",v)},h=v=>{n("updateCaptchaToken",v)};return i({item:t.item}),(v,b)=>(o(),d("div",{class:$(["form-builder--item",{"d-none":e.item.hidden,"form-builder--item-input":u(l)}])},[e.formLabelVisible?(o(),d("label",Ta,[H(F(e.item.label)+" ",1),e.item.required?(o(),d("span",Pa,"*")):w("",!0)])):w("",!0),V("input",{id:"captchaInput_"+e.localTagId,type:"hidden",ref:"captchaInput"+e.localTagId,value:e.captchaInputValue},null,8,Da),j(xa,{onExpired:m,onVerify:c}),e.validationError&&e.validationError.captcha?(o(),d("span",Ia,F(e.validationError.captcha),1)):w("",!0)],2))}}),Ba={class:"form-builder--item form-builder--image"},qa=["src","alt"],al=q({__name:"ImageElement",props:{kind:{type:String},item:{type:Object},surveyId:{type:String,required:!1}},setup(e){const i=e;L(()=>i.kind=="form");const n=L(()=>i.kind=="survey"),t=A(),a=()=>{n.value&&i.surveyId&&t.value&&window.parent.postMessage(["highlevel.setHeight",{height:t.value.clientHeight,id:i.surveyId}],"*")};return(l,r)=>(o(),d("div",{class:"form-builder--img-wrap",style:Ie({justifyContent:e.item.align=="left"?"flex-start":e.item.align=="right"?"flex-end":"center"}),ref:c=>t.value=c},[V("div",Ba,[V("img",{src:e.item.url,alt:e.item.alt,onLoad:a,style:Ie({maxWidth:e.item.width?e.item.width+"px":"100%",maxHeight:e.item.height?e.item.height+"px":"100%"})},null,44,qa)])],4))}}),Ra=["innerHTML"],ja={key:1},Ua={key:0},Ha=["placeholder","name","data-q","data-required"],Na={key:2,id:"error-container",class:"error"},rl=q({__name:"TextAreaElement",props:{kind:{type:String},item:{type:Object},formLabelVisible:{type:Boolean},formFieldsValue:{type:Object},errors:{type:Object,default:()=>({})}},emits:["addOrUpdateError"],setup(e,{expose:i,emit:n}){const t=e,a=L(()=>t.kind=="survey"),l=L(()=>t.errors[t.item.tag]),r=()=>{if(a.value)return;const m=t.formFieldsValue[t.item.tag];t.item.required&&J(m)?c(t.item.tag,`${t.item.label} is required`):c(t.item.tag,null)},c=(m,f)=>{n("addOrUpdateError",{tag:m,error:f})};return i({validate:r,item:t.item}),(m,f)=>(o(),d("div",{class:$(["form-builder--item",{"d-none":e.item.hidden,"form-builder--item-input":u(a)}])},[u(a)&&e.item.description!==void 0?(o(),d("label",{key:0,innerHTML:e.item.description,class:"item-description"},null,8,Ra)):w("",!0),e.formLabelVisible?(o(),d("label",ja,[H(F(e.item.label)+" ",1),e.item.required?(o(),d("span",Ua,"*")):w("",!0)])):w("",!0),N(V("textarea",{"onUpdate:modelValue":f[0]||(f[0]=s=>e.formFieldsValue[e.item.tag]=s),placeholder:!e.formLabelVisible&&e.item.required?e.item.placeholder+"*":e.item.placeholder,name:e.item.tag,class:"form-control","data-q":e.item.hiddenFieldQueryKey,"data-required":e.item.required},null,8,Ha),[[oe,e.formFieldsValue[e.item.tag]]]),u(l)?(o(),d("div",Na,F(u(l)),1)):w("",!0)],2))}});const Ka=["innerHTML"],Wa={key:1},Ya={key:0},za={class:"col-md-12"},Ga=["for"],Qa={class:"option col-8 pl-0 mb-2"},Xa=["id","onUpdate:modelValue","name"],Za={key:2,id:"error-container",class:"error"},ll=q({__name:"TextBoxListElement",props:{kind:{type:String},item:{type:Object},formLabelVisible:{type:Boolean},formFieldsValue:{type:Object},localTagId:{type:String},errors:{type:Object,default:()=>({})}},emits:["addOrUpdateError"],setup(e,{expose:i,emit:n}){const t=e,a=L(()=>t.kind=="form"),l=L(()=>t.kind=="survey"),r=L(()=>t.errors[t.item.tag]),c=()=>{if(l.value)return;const f=t.formFieldsValue[t.item.tag];if(t.item.required){const s=Object.values(f);if(s.filter(v=>v===""||v===void 0||v==null).length===s.length){m(t.item.tag,`${t.item.label} is required`);return}m(t.item.tag,null)}else m(t.item.tag,null)},m=(f,s)=>{n("addOrUpdateError",{tag:f,error:s})};return i({validate:c,item:t.item}),(f,s)=>(o(),d("div",{class:$(["form-builder--item",{"d-none":e.item.hidden,"form-builder--item-input":u(l)}])},[u(l)&&e.item.description!==void 0?(o(),d("label",{key:0,innerHTML:e.item.description,class:"item-description"},null,8,Ka)):w("",!0),e.formLabelVisible?(o(),d("label",Wa,[H(F(e.item.label)+" ",1),e.item.required?(o(),d("span",Ya,"*")):w("",!0)])):w("",!0),V("div",{class:$({"row ":u(l),"textbox-list-opt":u(a)})},[V("div",za,[V("table",{class:$({"w-100":u(a)})},[V("tbody",null,[(o(!0),d(X,null,Z(e.item.picklistOptions,(h,v)=>(o(),d("tr",{key:v},[V("td",null,[V("label",{for:"textbox_"+e.item.tag+"_"+v+"_"+e.localTagId},F(h.label)+".",9,Ga)]),V("td",null,[V("div",Qa,[N(V("input",{id:"textbox_"+e.item.tag+"_"+v+"_"+e.localTagId,ref_for:!0,ref:"textbox_"+e.item.tag+"_"+v,"onUpdate:modelValue":b=>e.formFieldsValue[e.item.tag][h.id]=b,name:e.item.tag,type:"text",class:"form-control",placeholder:"Value"},null,8,Xa),[[oe,e.formFieldsValue[e.item.tag][h.id]]])])])]))),128))])],2)])],2),u(r)?(o(),d("div",Za,F(u(r)),1)):w("",!0)],2))}});const Ja={class:"form-builder--item"},sl=q({__name:"HeadingElement",props:{item:{type:Object}},setup(e){const i=A({color:"000000",size:"40",weight:"400",align:"left"});return(n,t)=>(o(),d("div",Ja,[V("h1",{style:Ie({color:"#"+e.item.color||u(i).color,fontFamily:e.item.font,fontSize:(e.item.size||u(i).size)+"px",fontWeight:e.item.weight||u(i).weight,textAlign:e.item.align||u(i).align}),class:"h1"},F(u(At)(e.item.label)),5)]))}}),_a=["innerHTML"],er={key:1},tr={key:0},ir=["placeholder","name","data-q","data-required"],nr={key:2,id:"error-container",class:"error"},ol=q({__name:"EmailElement",props:{kind:{type:String},item:{type:Object},formLabelVisible:{type:Boolean},formFieldsValue:{type:Object},errors:{type:Object,default:()=>({})}},emits:["addOrUpdateError","isSlideMovable"],setup(e,{expose:i,emit:n}){const t=e,a=L(()=>t.kind=="survey"),l=L(()=>t.errors[t.item.tag]),r=f=>{a.value&&n("isSlideMovable",f)},c=()=>{if(a.value)return;const f=t.formFieldsValue[t.item.tag];if(t.item.required&&J(f))m(t.item.tag,"Email is required");else{if(!hi(f)){m(t.item.tag,"Email is invalid!");return}m(t.item.tag,null)}},m=(f,s)=>{n("addOrUpdateError",{tag:f,error:s})};return i({validate:c,item:t.item}),(f,s)=>(o(),d("div",{class:$(["form-builder--item",{"d-none":e.item.hidden,"form-builder--item-input":e.kind==="survey"}])},[u(a)&&e.item.description!==void 0?(o(),d("label",{key:0,innerHTML:e.item.description,class:"item-description",style:{display:"block"}},null,8,_a)):w("",!0),e.formLabelVisible?(o(),d("label",er,[H(F(e.item.label)+" ",1),e.item.required?(o(),d("span",tr,"*")):w("",!0)])):w("",!0),N(V("input",{"onUpdate:modelValue":s[0]||(s[0]=h=>e.formFieldsValue[e.item.tag]=h),placeholder:!e.formLabelVisible&&e.item.required?e.item.placeholder+"*":e.item.placeholder,name:e.item.tag,onKeydown:s[1]||(s[1]=W(T(h=>r({}),["prevent"]),["enter"])),type:"email",class:"form-control","data-q":e.item.hiddenFieldQueryKey,"data-required":e.item.required},null,40,ir),[[oe,e.formFieldsValue[e.item.tag]]]),u(l)?(o(),d("div",nr,F(u(l)),1)):w("",!0)],2))}});const ar=["innerHTML"],rr={key:1},lr={key:0},sr=["placeholder","name","data-q","data-required"],or={key:2,id:"error-container",class:"error"},dl=q({__name:"NumberElement",props:{kind:{type:String},item:{type:Object},formLabelVisible:{type:Boolean},formFieldsValue:{type:Object},errors:{type:Object,default:()=>({})}},emits:["addOrUpdateError","isSlideMovable"],setup(e,{expose:i,emit:n}){const t=e;L(()=>t.kind=="form");const a=L(()=>t.kind=="survey"),l=L(()=>t.errors[t.item.tag]),r=f=>{a.value&&n("isSlideMovable",f)},c=()=>{if(a.value)return;const f=t.formFieldsValue[t.item.tag];t.item.required&&J(f)?m(t.item.tag,`${t.item.label} is required`):m(t.item.tag,null)},m=(f,s)=>{n("addOrUpdateError",{tag:f,error:s})};return i({validate:c,item:t.item}),(f,s)=>(o(),d("div",{class:$(["form-builder--item",{"d-none":e.item.hidden,"form-builder--item-input":u(a)}])},[u(a)&&e.item.description!==void 0?(o(),d("label",{key:0,innerHTML:e.item.description,class:"item-description"},null,8,ar)):w("",!0),e.formLabelVisible?(o(),d("label",rr,[H(F(e.item.label)+" ",1),e.item.required?(o(),d("span",lr,"*")):w("",!0)])):w("",!0),N(V("input",{"onUpdate:modelValue":s[0]||(s[0]=h=>e.formFieldsValue[e.item.tag]=h),placeholder:!e.formLabelVisible&&e.item.required?e.item.placeholder+"*":e.item.placeholder,name:e.item.tag,onKeydown:s[1]||(s[1]=W(T(h=>r({}),["prevent"]),["enter"])),type:"number",step:"any",class:"form-control","data-q":e.item.hiddenFieldQueryKey,"data-required":e.item.required},null,40,sr),[[oe,e.formFieldsValue[e.item.tag]]]),u(l)?(o(),d("div",or,F(u(l)),1)):w("",!0)],2))}});function ct(e){return Mt("stcdn.leadconnectorhq.com/funnel/intl-tel-input/intlTelInput.min.js",()=>{e()})}function ht(e){const i={src:"https://unpkg.com/libphonenumber-js@1.9.43/bundle/libphonenumber-min.js",async:!0,type:"text/javascript"},n={src:"https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.12/js/utils.min.js",async:!0,type:"text/javascript"},t={rel:"stylesheet",href:"https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.12/css/intlTelInput.min.css"};return L(()=>({script:e.value?[i,n]:[i],link:e.value?[t]:[]}))}const dr=["innerHTML"],ur={key:1},cr={key:0},hr=["value","name","placeholder","data-q","data-required"],mr={key:2,id:"error-container",class:"error"},ul=q({__name:"PhoneElement",props:{kind:{type:String},item:{type:Object},formLabelVisible:{type:Boolean},phoneCountryIncluded:{type:Object},phoneCountryCode:{type:Object},formattedPhone:{type:Object},locationCountry:{type:String},phoneFields:{type:Object},phoneCountryDerived:{type:String},errors:{type:Object,default:()=>({})}},emits:["addOrUpdateError","isSlideMovable","customFieldPhoneNumberUpdate","updatePhoneCountryDerived"],setup(e,{expose:i,emit:n}){const t=e,a=L(()=>{var g;return((g=t.item)==null?void 0:g.enableCountryPicker)!==!1});Ue(ht(a)),Bt();const l=A(),r=A();he(()=>{nt.getGeoLocation().then(g=>{const S=g.country!=="ZZ"?g.country:void 0;t.phoneCountryCode[t.item.tag]=S,b(S),t.phoneCountryIncluded[t.item.tag]&&t.phoneCountryCode[t.item.tag]&&s({tag:t.item.tag})}).catch(g=>{console.error("Error while fetching headers: ",g)}),a.value&&ct(v)});const c=g=>{t.phoneCountryIncluded[t.item.tag]=g.target.value},m=L(()=>t.kind=="survey"),f=L(()=>t.errors[t.item.tag]),s=g=>{n("customFieldPhoneNumberUpdate",g)},h=g=>{m.value&&n("isSlideMovable",g)},v=()=>{var S;const g=r.value;g&&(l.value=(S=window==null?void 0:window.intlTelInput)==null?void 0:S.call(window,g,{preferredCountries:["us","gb","ca","au"],initialCountry:t.locationCountry.toLowerCase()||"us"}),g.addEventListener("countrychange",()=>{if(!l.value)return;const E=l.value.getNumber(),M=l.value.getSelectedCountryData().iso2;t.phoneCountryIncluded[g.name]=E,t.phoneCountryCode[g.name]=M?M.toUpperCase():"US",s({tag:g.name})}))},b=g=>{n("updatePhoneCountryDerived",g)},C=()=>{try{if(m.value)return;const g=t.phoneCountryIncluded[t.item.tag];t.item.required&&J(g)?p(t.item.tag,`${t.item.label} is required`):g&&!dt(g,t.phoneCountryCode[t.item.tag]?t.phoneCountryCode[t.item.tag]:t.locationCountry)?p(t.item.tag,"Invalid phone number"):p(t.item.tag,null)}catch(g){console.error(g)}},p=(g,S)=>{n("addOrUpdateError",{tag:g,error:S})};return ce(()=>t.phoneCountryDerived,(g,S)=>{g!==S&&a.value&&v()}),rt(()=>{var g;(g=l.value)==null||g.destroy()}),i({validate:C,item:t.item}),(g,S)=>(o(),d("div",{class:$(["form-builder--item",{"d-none":e.item.hidden,"form-builder--item-input":u(m)}])},[u(m)&&e.item.description!==void 0?(o(),d("label",{key:0,innerHTML:e.item.description,class:"item-description"},null,8,dr)):w("",!0),e.formLabelVisible?(o(),d("label",ur,[H(F(e.item.label)+" ",1),e.item.required?(o(),d("span",cr,"*")):w("",!0)])):w("",!0),V("input",{type:"tel",value:e.formattedPhone[e.item.tag],onInput:c,name:e.item.tag,placeholder:!e.formLabelVisible&&e.item.required?e.item.placeholder+"*":e.item.placeholder,autocomplete:"off",class:$(u(a)?"countryphone":"form-control"),ref:E=>r.value=E,onKeyup:S[0]||(S[0]=E=>s(e.item)),onKeydown:S[1]||(S[1]=W(T(E=>h({}),["prevent"]),["enter"])),"data-q":e.item.hiddenFieldQueryKey,"data-required":e.item.required},null,42,hr),u(f)?(o(),d("div",mr,F(u(f)),1)):w("",!0)],2))}});const fr=["id"],vr=["innerHTML"],yr={key:1},gr={key:0},pr=["value","name","placeholder","id","data-q","data-required"],br=["placeholder","name","id","data-q","data-required"],wr=["type","placeholder","name","id","data-q","data-required"],Sr={key:5,id:"error-container",class:"error"},cl=q({__name:"TextElement",props:{kind:{type:String},item:{type:Object},formLabelVisible:{type:Boolean},phoneCountryIncluded:{type:Object},phoneCountryCode:{type:Object},formattedPhone:{type:Object},locationCountry:{type:String},formFieldsValue:{type:Object},phoneFields:{type:Object},phoneCountryDerived:{type:String},errors:{type:Object,default:()=>({})}},emits:["addOrUpdateError","isSlideMovable","customFieldPhoneNumberUpdate","updatePhoneCountryDerived"],setup(e,{expose:i,emit:n}){const t=e,a=L(()=>{var S;return((S=t.item)==null?void 0:S.enableCountryPicker)!==!1});Ue(ht(a));const l=A(),r=A(),c=S=>{t.phoneCountryIncluded[t.item.tag]=S.target.value},m=L(()=>t.kind=="form"),f=L(()=>t.kind=="survey"),s=L(()=>t.errors[t.item.tag]);he(()=>{t.item.tag==="phone"&&(nt.getGeoLocation().then(S=>{const E=S.country!=="ZZ"?S.country:void 0;t.phoneCountryCode[t.item.tag]=E,C(E),t.phoneCountryIncluded[t.item.tag]&&t.phoneCountryCode[t.item.tag]&&h({tag:t.item.tag})}).catch(S=>{console.error("Error while fetching headers: ",S)}),a.value&&ct(b))});const h=S=>{n("customFieldPhoneNumberUpdate",S)},v=S=>{f.value&&n("isSlideMovable",S)},b=()=>{var E;const S=l.value;S&&(r.value=(E=window==null?void 0:window.intlTelInput)==null?void 0:E.call(window,S,{preferredCountries:["us","gb","ca","au"],initialCountry:t.locationCountry.toLowerCase()||"us"}),S.addEventListener("countrychange",()=>{if(!r.value)return;const M=r.value.getNumber(),D=r.value.getSelectedCountryData().iso2;t.phoneCountryIncluded[S.name]=M,t.phoneCountryCode[S.name]=D?D.toUpperCase():"US",h({tag:S.name})}))},C=S=>{n("updatePhoneCountryDerived",S)},p=S=>{if(f.value)return;const E=t.formFieldsValue[t.item.tag];t.item.required&&J(E)?g(t.item.tag,`${t.item.label} is required`):t.item.tag==="phone"&&!dt(E,t.phoneCountryCode[t.item.tag]?t.phoneCountryCode[t.item.tag]:t.locationCountry)?g(t.item.tag,"Invalid phone number"):t.item.tag==="website"&&!ci(E)?g(t.item.tag,"Invalid url"):g(t.item.tag,null)},g=(S,E)=>{n("addOrUpdateError",{tag:S,error:E})};return ce(()=>t.phoneCountryDerived,(S,E)=>{E!==S&&a.value&&b()}),rt(()=>{var S;(S=r.value)==null||S.destroy()}),i({validate:p,item:t.item}),(S,E)=>(o(),d("div",{class:$({"d-none":e.item.hidden})},[V("div",{id:"form-"+e.item.tag,class:$(["form-builder--item",{"form-builder--item-input":e.kind=="survey"}])},[u(f)&&e.item.description!==void 0?(o(),d("label",{key:0,innerHTML:e.item.description,class:"item-description"},null,8,vr)):w("",!0),e.formLabelVisible?(o(),d("label",yr,[H(F(e.item.label)+" ",1),e.item.required?(o(),d("span",gr,"*")):w("",!0)])):w("",!0),e.item.tag=="phone"?(o(),d("input",{key:2,onInput:c,value:e.formattedPhone[e.item.tag],type:"tel",name:e.item.tag,placeholder:!e.formLabelVisible&&e.item.required?e.item.placeholder+"*":e.item.placeholder,autocomplete:"off",class:$(u(a)?"countryphone":"form-control"),ref:M=>l.value=M,id:e.item.tag,"data-q":e.item.hiddenFieldQueryKey,"data-required":e.item.required,onKeyup:E[0]||(E[0]=M=>h(e.item)),onKeydown:E[1]||(E[1]=W(T(M=>v({}),["prevent"]),["enter"]))},null,42,pr)):u(m)&&e.item.tag=="website"?N((o(),d("input",{key:3,"onUpdate:modelValue":E[2]||(E[2]=M=>e.formFieldsValue[e.item.tag]=M),placeholder:!e.formLabelVisible&&e.item.required?e.item.placeholder+"*":e.item.placeholder,name:e.item.tag,type:"text",class:"form-control",id:e.item.tag,"data-q":e.item.hiddenFieldQueryKey,"data-required":e.item.required},null,8,br)),[[oe,e.formFieldsValue[e.item.tag]]]):N((o(),d("input",{key:4,"onUpdate:modelValue":E[3]||(E[3]=M=>e.formFieldsValue[e.item.tag]=M),type:e.item.type,placeholder:!e.formLabelVisible&&e.item.required?e.item.placeholder+"*":e.item.placeholder,name:e.item.tag,onKeydown:E[4]||(E[4]=W(T(M=>v({}),["prevent"]),["enter"])),class:"form-control",id:e.item.tag,"data-q":e.item.hiddenFieldQueryKey,"data-required":e.item.required},null,40,wr)),[[qt,e.formFieldsValue[e.item.tag]]]),u(s)?(o(),d("div",Sr,F(u(s)),1)):w("",!0)],10,fr)],2))}});export{ol as A,ll as B,rl as C,jr as D,nl as E,il as F,tl as G,el as H,_r as I,Jr as J,Zr as K,Xr as L,Qr as M,Hr as N,sl as O,al as P,zr as Q,vn as R,Ne as S,Wr as T,Yr as U,Gr as V,ui as W,di as X,xr as Y,Nt as _,Fr as a,Mr as b,Tr as c,Se as d,Kr as e,jt as f,Ar as g,$r as h,ct as i,xa as j,Rt as k,ht as l,Lr as m,Rr as n,Pr as o,Dr as p,qr as q,Ir as r,Cr as s,Br as t,Ur as u,Nr as v,Er as w,cl as x,ul as y,dl as z};
